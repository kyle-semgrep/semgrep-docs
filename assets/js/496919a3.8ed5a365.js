"use strict";(self.webpackChunkmegadocs=self.webpackChunkmegadocs||[]).push([[24079],{25243:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/ssc-scan-summary-f3553057210895f6d905e753b6b79ffb.png"},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>c});var i=s(96540);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}},37658:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>t});var i=s(74848),r=s(28453);const t=[];function l(e){const n={a:"a",code:"code",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"The following table is a summary of methods and resources to set up schedules for different CI providers."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"CI provider"}),(0,i.jsx)(n.th,{children:"Where to set schedule"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"GitHub Actions"}),(0,i.jsxs)(n.td,{children:["See ",(0,i.jsx)(n.a,{href:"/semgrep-ci/sample-ci-configs#sample-github-actions-configuration-file",children:"Sample CI configs"})," for information on how to modify your ",(0,i.jsx)(n.code,{children:"semgrep.yml"})," file"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"GitLab CI/CD"}),(0,i.jsxs)(n.td,{children:["Refer to ",(0,i.jsx)(n.a,{href:"https://docs.gitlab.com/ee/ci/pipelines/schedules.html",children:"GitLab documentation"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Jenkins"}),(0,i.jsxs)(n.td,{children:["Refer to ",(0,i.jsx)(n.a,{href:"https://www.jenkins.io/doc/book/pipeline/running-pipelines/#scheduling-jobs-in-jenkins",children:"Jenkins documentation"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Bitbucket Pipelines"}),(0,i.jsxs)(n.td,{children:["Refer to ",(0,i.jsx)(n.a,{href:"https://support.atlassian.com/bitbucket-cloud/docs/pipeline-triggers/",children:"Bitbucket documentation"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"CircleCI"}),(0,i.jsxs)(n.td,{children:["Refer to ",(0,i.jsx)(n.a,{href:"https://circleci.com/docs/scheduled-pipelines#get-started-with-scheduled-pipelines-in-circleci",children:"CircleCI documentation"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Buildkite"}),(0,i.jsxs)(n.td,{children:["Refer to ",(0,i.jsx)(n.a,{href:"https://buildkite.com/docs/pipelines/scheduled-builds",children:"Buildkite documentation"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Azure Pipelines"}),(0,i.jsxs)(n.td,{children:["Refer to ",(0,i.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/azure/devops/pipelines/process/scheduled-triggers?view=azure-devops&tabs=yaml",children:"Azure documentation"})]})]})]})]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},78366:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>p,frontMatter:()=>c,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"semgrep-supply-chain/getting-started","title":"Third-party dependencies","description":"Scan your project with Semgrep Supply Chain.","source":"@site/docs/semgrep-supply-chain/getting-started.md","sourceDirName":"semgrep-supply-chain","slug":"/semgrep-supply-chain/getting-started","permalink":"/semgrep-docs/semgrep-supply-chain/getting-started","draft":false,"unlisted":false,"editUrl":"https://github.com/kyle-semgrep/semgrep-docs/edit/main/docs/semgrep-supply-chain/getting-started.md","tags":[{"inline":true,"label":"Semgrep Supply Chain","permalink":"/semgrep-docs/tags/semgrep-supply-chain"}],"version":"current","lastUpdatedAt":1752262761000,"frontMatter":{"slug":"getting-started","append_help_link":true,"description":"Scan your project with Semgrep Supply Chain.","tags":["Semgrep Supply Chain"],"title":"Third-party dependencies","hide_title":true},"sidebar":"scanSidebar","previous":{"title":"Overview","permalink":"/semgrep-docs/semgrep-supply-chain/overview"},"next":{"title":"View and export findings","permalink":"/semgrep-docs/semgrep-supply-chain/view-export"}}');var r=s(74848),t=s(28453),l=s(37658);const c={slug:"getting-started",append_help_link:!0,description:"Scan your project with Semgrep Supply Chain.",tags:["Semgrep Supply Chain"],title:"Third-party dependencies",hide_title:!0},a="Scan third-party dependencies",o={},d=[{value:"Project directory structure",id:"project-directory-structure",level:2},{value:"Enable Semgrep Supply Chain",id:"enable-semgrep-supply-chain",level:2},{value:"Scan frequency",id:"scan-frequency",level:2},{value:"Rule updates",id:"rule-updates",level:3},{value:"Schedule scans",id:"schedule-scans",level:3},...l.RM,{value:"Event-triggered scans",id:"event-triggered-scans",level:3},{value:"Scan a project without lockfiles (beta)",id:"scan-a-project-without-lockfiles-beta",level:2},{value:"Run a scan using the CLI",id:"run-a-scan-using-the-cli",level:2},{value:"Scan a monorepo&#39;s dependencies",id:"scan-a-monorepos-dependencies",level:2},{value:"Block pull requests or merge requests",id:"block-pull-requests-or-merge-requests",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"scan-third-party-dependencies",children:"Scan third-party dependencies"})}),"\n",(0,r.jsx)(n.p,{children:"This article walks you through the setup needed to scan your project with Semgrep Supply Chain and its configuration and customization options. Once you enable Semgrep Supply Chain, it automatically scans repositories that you have added to Semgrep AppSec Platform, but your repository must first meet the requirements for a successful scan."}),"\n",(0,r.jsx)(n.h2,{id:"project-directory-structure",children:"Project directory structure"}),"\n",(0,r.jsxs)(n.p,{children:["To scan your project with Semgrep Supply Chain, it must have a manifest file or lockfile and use ",(0,r.jsx)(n.a,{href:"/docs/supported-languages#semgrep-supply-chain",children:"supported package managers and filenames"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Semgrep Supply Chain can correctly parse code files, manifest files, and lockfiles in subfolders as well. Code files that use the dependencies in the manifest file or lockfile must be nested in the same directory as the manifest file or lockfile. Manifest files and lockfiles must all use supported file names."}),"\n",(0,r.jsxs)(n.p,{children:["In the following example, Semgrep Supply Chain assumes that all code files using the dependencies in ",(0,r.jsx)(n.code,{children:"my-project/running/lockfile.json"})," are nested in ",(0,r.jsx)(n.code,{children:"my-project/running/"})," or deeper directories."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"/my-project\n\u251c\u2500\u2500\u2500/running\n\u2502   \u251c\u2500\u2500\u2500lockfile.json\n\u2502   \u251c\u2500\u2500\u2500bar.js\n\u2502   \u2514\u2500\u2500\u2500/uphill\n\u2502       \u251c\u2500\u2500\u2500lockfile.json\n\u2502       \u2514\u2500\u2500\u2500\u2500foo.js\n\u251c\u2500\u2500\u2500/biking\n"})}),"\n",(0,r.jsxs)(n.p,{children:["If you have code files in ",(0,r.jsx)(n.code,{children:"my-project/biking,"})," Semgrep Supply Chain does not associate them with the dependencies in ",(0,r.jsx)(n.code,{children:"my-project/running/lockfile.json."})," If there is another manifest file or lockfile in ",(0,r.jsx)(n.code,{children:"my-project/running"}),", such as ",(0,r.jsx)(n.code,{children:"my-project/running/uphill/lockfile.json"}),", then this overrides the original ",(0,r.jsx)(n.code,{children:"my-project/running/lockfile.json"})," for all code files in ",(0,r.jsx)(n.code,{children:"my-project/running/uphill/"})," or deeper directories."]}),"\n",(0,r.jsx)(n.admonition,{title:"Apache Maven",type:"info",children:(0,r.jsxs)(n.p,{children:["To run a Semgrep Supply Chain scan, generate a ",(0,r.jsx)(n.a,{href:"/semgrep-supply-chain/setup-maven",children:"dependency tree for Apache Maven"}),"."]})}),"\n",(0,r.jsx)(n.h2,{id:"enable-semgrep-supply-chain",children:"Enable Semgrep Supply Chain"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Sign in to ",(0,r.jsxs)(n.a,{href:"https://semgrep.dev/login",children:[(0,r.jsx)("i",{class:"fas fa-external-link fa-xs"})," Semgrep AppSec Platform"]}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"https://semgrep.dev/orgs/-/settings/general/supplyChain",children:"Settings > General > Supply Chain"})}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Click the ",(0,r.jsxs)(n.strong,{children:[(0,r.jsx)("i",{class:"fa-solid fa-toggle-large-on"})," Supply Chain scans"]})," toggle if it is not already enabled."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"scan-frequency",children:"Scan frequency"}),"\n",(0,r.jsx)(n.p,{children:"You can modify your CI configuration so that Semgrep Supply Chain scans your code at a specified frequency or whenever a specific event occurs, such as opening a pull request or merge request."}),"\n",(0,r.jsx)(n.h3,{id:"rule-updates",children:"Rule updates"}),"\n",(0,r.jsx)(n.p,{children:"Semgrep Supply Chain frequently receives rule updates. To take advantage of these updates, adjust the frequency with which Semgrep Supply Chain scans your codebase."}),"\n",(0,r.jsxs)(n.p,{children:["If a rule is updated, findings generated against the revised rule are considered ",(0,r.jsx)(n.strong,{children:"new findings"}),", even if the previous version generated a finding. The new finding is not affected by any triage actions on findings related to the prior version of the rule. Because the finding is new, you'll also receive notifications through the channels you've set up, such as Slack."]}),"\n",(0,r.jsx)(n.h3,{id:"schedule-scans",children:"Schedule scans"}),"\n",(0,r.jsx)(l.Ay,{}),"\n",(0,r.jsx)(n.h3,{id:"event-triggered-scans",children:"Event-triggered scans"}),"\n",(0,r.jsx)(n.p,{children:"You can configure your CI/CD system to trigger a Semgrep Supply Chain scan whenever one of the following events occurs:"}),"\n",(0,r.jsxs)("table",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:"Event"})}),(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:"Scope of scan"})}),(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:"Dependency rule set"})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Pull request or merge request"}),(0,r.jsx)("td",{children:(0,r.jsx)("a",{href:"/docs/deployment/customize-ci-jobs#set-up-diff-aware-scans",children:"Diff-aware scan"})}),(0,r.jsx)("td",{children:"All dependency rules"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Push or scheduled event, such as a cron job"}),(0,r.jsx)("td",{children:"Full scan"}),(0,r.jsx)("td",{children:"All dependency rules"})]})]}),"\n",(0,r.jsx)(n.h2,{id:"scan-a-project-without-lockfiles-beta",children:"Scan a project without lockfiles (beta)"}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["To participate in this beta, reach out to ",(0,r.jsx)(n.a,{href:"mailto:support@semgrep.com",children:"support@semgrep.com"}),"."]})}),"\n",(0,r.jsx)(n.p,{children:"Semgrep Supply Chain can scan projects without the need for lockfiles. This simplifies the configuration of Supply Chain scans. This feature is available for the following languages:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Java projects built using Maven or Gradle Wrapper"}),"\n",(0,r.jsx)(n.li,{children:"Kotlin"}),"\n",(0,r.jsx)(n.li,{children:"C#"}),"\n"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Ensure that the environment where you run Semgrep scans has installed all of the dependencies required to build your project, such as Java and Maven."}),"\n",(0,r.jsxs)(n.li,{children:["Initiate a Semgrep scan, ensuring that you include the ",(0,r.jsx)(n.code,{children:"--allow-local-builds"})," flag:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-console",children:"semgrep ci --allow-local-builds\n"})}),"\n","For existing CI jobs, you may have to edit your configuration file to include this flag.\nSemgrep builds the project, using the build information included in the ",(0,r.jsx)(n.code,{children:"pom.xml"})," or ",(0,r.jsx)(n.code,{children:"build.gradle"})," file to determine the set of dependencies used by the project."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"build.gradle"})," or ",(0,r.jsx)(n.code,{children:"pom.xml"})," file used by Semgrep to build the project is listed in the Scan Summary after the scan completes successfully."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{alt:"Supply Chain scan summary",src:s(25243).A+"#md-width",width:"1358",height:"324"}),"\n",(0,r.jsxs)(n.em,{children:[(0,r.jsx)(n.strong,{children:"Figure"}),". Supply Chain scan summary listing a manifest file."]})]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Semgrep Managed Scanning cannot determine the dependencies in a project when there is no manifest file or lockfile, so Supply Chain scans will not return any findings."}),"\n",(0,r.jsxs)(n.li,{children:["By default, Semgrep doesn't surface errors generated during a scan. To view errors in the CLI output, include the ",(0,r.jsx)(n.code,{children:"--verbose"})," when initiating your scan:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-console",children:"semgrep ci --allow-local-builds --verbose\n"})}),"\n"]}),"\n"]})}),"\n",(0,r.jsx)(n.h2,{id:"run-a-scan-using-the-cli",children:"Run a scan using the CLI"}),"\n",(0,r.jsx)(n.p,{children:"You can start a stand-alone Semgrep Supply Chain scan by running the following command in the CLI:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-console",children:"semgrep ci --supply-chain\n"})}),"\n",(0,r.jsx)(n.p,{children:"Semgrep prints a list of findings directly to the CLI, including the finding's reachability determination, severity level, a brief description, and suggested remediation."}),"\n",(0,r.jsx)(n.p,{children:"You can also view your results in Semgrep AppSec Platform. It displays all of the information displayed in the CLI, but it also offers you the ability to:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/semgrep-supply-chain/view-export",children:"See additional finding details"}),", such as whether the finding is always reachable or if it's reachable if certain conditions are met, and its transitivity status"]}),"\n",(0,r.jsxs)(n.li,{children:["Use the ",(0,r.jsx)(n.a,{href:"/semgrep-supply-chain/dependency-search",children:"dependency search"})," feature"]}),"\n",(0,r.jsxs)(n.li,{children:["Use the ",(0,r.jsx)(n.a,{href:"/semgrep-supply-chain/license-compliance",children:"license compliance"})," feature"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"scan-a-monorepos-dependencies",children:"Scan a monorepo's dependencies"}),"\n",(0,r.jsxs)(n.p,{children:["Semgrep Supply Chain supports the scanning of monorepos. As outlined in ",(0,r.jsx)(n.a,{href:"#project-directory-structure",children:"Project directory structure"}),", findings are grouped by directory based on the ",(0,r.jsx)(n.a,{href:"/semgrep-supply-chain/glossary/#manifest-file",children:"manifest file or lockfile"})," present in the monorepo."]}),"\n",(0,r.jsx)(n.h2,{id:"block-pull-requests-or-merge-requests",children:"Block pull requests or merge requests"}),"\n",(0,r.jsxs)(n.p,{children:["You can comment on or potentially block pull requests or merge requests by defining a ",(0,r.jsx)(n.a,{href:"/semgrep-supply-chain/policies",children:"Supply Chain Policy"}),"."]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);