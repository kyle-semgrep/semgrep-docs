"use strict";(self.webpackChunkmegadocs=self.webpackChunkmegadocs||[]).push([[82347],{28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>r});var i=s(96540);const l={},c=i.createContext(l);function t(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),i.createElement(c.Provider,{value:n},e.children)}},45216:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/custom-dependency-exception-0d2cc866c43fbba7082e756d3d79fee2.png"},62455:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/license-compliance-pr-comment-ef156855a3194d89fe57e4645ff57926.png"},87378:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>p,frontMatter:()=>t,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"semgrep-supply-chain/license-compliance","title":"License compliance","description":"Semgrep Supply Chain can detect and list a package\'s license. Prevent or exempt certain packages from being used based on their licenses.","source":"@site/docs/semgrep-supply-chain/license-compliance.md","sourceDirName":"semgrep-supply-chain","slug":"/semgrep-supply-chain/license-compliance","permalink":"/semgrep-docs/semgrep-supply-chain/license-compliance","draft":false,"unlisted":false,"editUrl":"https://github.com/kyle-semgrep/semgrep-docs/edit/main/docs/semgrep-supply-chain/license-compliance.md","tags":[{"inline":true,"label":"Semgrep Supply Chain","permalink":"/semgrep-docs/tags/semgrep-supply-chain"},{"inline":true,"label":"Semgrep AppSec Platform","permalink":"/semgrep-docs/tags/semgrep-app-sec-platform"}],"version":"current","lastUpdatedAt":1752504841000,"frontMatter":{"slug":"license-compliance","append_help_link":true,"title":"License compliance","hide_title":true,"description":"Semgrep Supply Chain can detect and list a package\'s license. Prevent or exempt certain packages from being used based on their licenses.","tags":["Semgrep Supply Chain","Semgrep AppSec Platform"]},"sidebar":"scanSidebar","previous":{"title":"Manage rules and policies","permalink":"/semgrep-docs/semgrep-code/policies"},"next":{"title":"Enable Assistant","permalink":"/semgrep-docs/semgrep-assistant/getting-started"}}');var l=s(74848),c=s(28453);const t={slug:"license-compliance",append_help_link:!0,title:"License compliance",hide_title:!0,description:"Semgrep Supply Chain can detect and list a package's license. Prevent or exempt certain packages from being used based on their licenses.",tags:["Semgrep Supply Chain","Semgrep AppSec Platform"]},r="License compliance",a={},o=[{value:"Language support",id:"language-support",level:2},{value:"Types of license policies",id:"types-of-license-policies",level:2},{value:"View license policy",id:"view-license-policy",level:2},{value:"Change the license policy",id:"change-the-license-policy",level:2},{value:"License categories",id:"license-categories",level:2},{value:"Popular Weak-copyleft licenses",id:"popular-weak-copyleft-licenses",level:3},{value:"Popular Copyleft licenses",id:"popular-copyleft-licenses",level:3},{value:"Popular Permissive licenses",id:"popular-permissive-licenses",level:3},{value:"Other licenses",id:"other-licenses",level:3},{value:"Multiple license types",id:"multiple-license-types",level:3},{value:"Create exemptions",id:"create-exemptions",level:2},{value:"Create custom dependency exceptions",id:"create-custom-dependency-exceptions",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"license-compliance",children:"License compliance"})}),"\n",(0,l.jsx)(n.admonition,{title:"Prerequisite",type:"info",children:(0,l.jsxs)(n.p,{children:["At least one repository that scans for dependencies through Semgrep Supply Chain. See ",(0,l.jsx)(n.a,{href:"/semgrep-supply-chain/getting-started",children:"Scan third-party dependencies"}),"."]})}),"\n",(0,l.jsxs)(n.p,{children:["Semgrep Supply Chain's ",(0,l.jsx)(n.strong,{children:"license compliance"})," feature enables you to explicitly allow or disallow (block) a package's use in your repository based on its license. For example, your company policy may disallow the use of packages with the Creative Commons Attribution-NonCommercial (CC-BY-NC) license."]}),"\n",(0,l.jsx)(n.p,{children:"Whenever Semgrep determines that a disallowed package has been used, it can notify you of this in a pull request or merge request comment:"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.img,{alt:"MR comment with license compliance information shown",src:s(62455).A+"#md-width",width:"2186",height:"349"}),"\n",(0,l.jsxs)(n.em,{children:[(0,l.jsx)(n.strong,{children:"Figure"}),". GitLab merge request comment featuring license compliance information."]})]}),"\n",(0,l.jsx)(n.h2,{id:"language-support",children:"Language support"}),"\n",(0,l.jsxs)(n.p,{children:["Licenses are detected based on the ",(0,l.jsx)(n.strong,{children:"package manager"})," used. See ",(0,l.jsx)(n.a,{href:"/supported-languages/#semgrep-supply-chain",children:"Supported languages"})," for a list of supported package managers."]}),"\n",(0,l.jsx)(n.h2,{id:"types-of-license-policies",children:"Types of license policies"}),"\n",(0,l.jsx)(n.p,{children:"Licenses in Semgrep can be assigned any of the following policies:"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Policy"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Allow"}),(0,l.jsx)(n.td,{children:"Packages with licenses assigned this type of permission are allowed for use in the codebase."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Comment"}),(0,l.jsx)(n.td,{children:"Packages with licenses assigned this type of permission are allowed for use in the codebase. A comment is added to the PR or MR introducing the package into the codebase. This permission can be useful when you want to remind or warn developers to use certain licenses for internal use only."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Block"}),(0,l.jsxs)(n.td,{children:["Packages with licenses assigned this type of permission are ",(0,l.jsx)("strong",{children:"not"})," allowed into the codebase. A comment is added to the PR or MR introducing the package into the codebase."]})]})]})]}),"\n",(0,l.jsxs)(n.p,{children:["By default, all licenses are set to ",(0,l.jsx)(n.strong,{children:"Allow"}),". You must configure your policies to block or leave comments on licenses."]}),"\n",(0,l.jsx)(n.h2,{id:"view-license-policy",children:"View license policy"}),"\n",(0,l.jsx)(n.p,{children:"To view a package's license policy:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://semgrep.dev/login",children:"Sign in to Semgrep AppSec Platform"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Navigate to ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.a,{href:"https://semgrep.dev/orgs/-/supply-chain",children:"Supply Chain"})})," > ",(0,l.jsx)(n.strong,{children:"Dependencies"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"change-the-license-policy",children:"Change the license policy"}),"\n",(0,l.jsx)(n.p,{children:"To change the policies of packages based on the license:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Sign in to ",(0,l.jsx)(n.a,{href:"https://semgrep.dev/login",children:"Semgrep AppSec Platform"}),", and navigate to **Supply Chain > License configuration."]}),"\n",(0,l.jsxs)(n.li,{children:["Browse the available licenses within the ",(0,l.jsx)(n.strong,{children:"License configuration"})," section.\n",(0,l.jsx)(n.img,{alt:"License configuration section",src:s(93892).A+"#md-width",width:"1138",height:"1190"}),"\n",(0,l.jsxs)(n.em,{children:[(0,l.jsx)(n.strong,{children:"Figure"}),". The Supply Chain > Settings > License configuration section."]})]}),"\n",(0,l.jsxs)(n.li,{children:["Click the permission (",(0,l.jsx)(n.strong,{children:"Allow"}),", ",(0,l.jsx)(n.strong,{children:"Comment"}),", or ",(0,l.jsx)(n.strong,{children:"Block"}),") you want to set the license to."]}),"\n",(0,l.jsxs)(n.li,{children:["Optional: Block entire categories of licenses by clicking on the ",(0,l.jsx)(n.strong,{children:"Set all to"})," drop-down box next to the license category."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"license-categories",children:"License categories"}),"\n",(0,l.jsx)(n.p,{children:"Semgrep Supply Chain can identify the following licenses and license categories."}),"\n",(0,l.jsx)(n.h3,{id:"popular-weak-copyleft-licenses",children:"Popular Weak-copyleft licenses"}),"\n",(0,l.jsx)(n.p,{children:"Software using packages with weak copyleft licenses may have to maintain the same license as the package. To determine if this applies to your project, consult your legal department. Developers typically choose these packages based on individual preferences, so usage should be monitored to ensure license compliance."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"LGPL-3.0"}),"\n",(0,l.jsx)(n.li,{children:"LGPL-2.1"}),"\n",(0,l.jsx)(n.li,{children:"MPL-2.0"}),"\n",(0,l.jsx)(n.li,{children:"EPL-2.0"}),"\n",(0,l.jsx)(n.li,{children:"OSL-3.0"}),"\n",(0,l.jsx)(n.li,{children:"EUPL-1.2"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"popular-copyleft-licenses",children:"Popular Copyleft licenses"}),"\n",(0,l.jsxs)(n.p,{children:["Software using packages with copyleft licenses ",(0,l.jsx)(n.strong,{children:"must"})," maintain the same license as the packages. To prevent license complications, developers often avoid packages using these licenses."]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"GPL-3.0"}),"\n",(0,l.jsx)(n.li,{children:"GPL-2.0"}),"\n",(0,l.jsx)(n.li,{children:"AGPL-3.0"}),"\n",(0,l.jsx)(n.li,{children:"AGPL-2.0"}),"\n",(0,l.jsx)(n.li,{children:"CC-BY-SA-4.0"}),"\n",(0,l.jsx)(n.li,{children:"APSL"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"popular-permissive-licenses",children:"Popular Permissive licenses"}),"\n",(0,l.jsx)(n.p,{children:"Packages with permissive licenses have minimal restrictions on how they can be used or modified. This makes permissive licenses popular among developers for their flexibility, ease of use, and lack of legal concerns."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"MIT"}),"\n",(0,l.jsx)(n.li,{children:"Apache-2.0"}),"\n",(0,l.jsx)(n.li,{children:"BSD-3"}),"\n",(0,l.jsx)(n.li,{children:"BSD-2"}),"\n",(0,l.jsx)(n.li,{children:"BSD-3-Clause"}),"\n",(0,l.jsx)(n.li,{children:"BSD-2-Clause"}),"\n",(0,l.jsx)(n.li,{children:"CC_BY-4.0"}),"\n",(0,l.jsx)(n.li,{children:"WTFPL"}),"\n",(0,l.jsx)(n.li,{children:"MS-PL"}),"\n",(0,l.jsx)(n.li,{children:"Unlicensed"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"other-licenses",children:"Other licenses"}),"\n",(0,l.jsxs)(n.p,{children:["Packages tagged as ",(0,l.jsx)(n.strong,{children:"Other"})," are those with licenses that aren't yet categorized by Semgrep Supply Chain or aren't included in the categories of weak-copyleft licenses, copyleft licenses, or permissive licenses. This category includes all other standard Software Package Data Exchange (SPDX) licenses."]}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.strong,{children:"Other"})," license category may include packages with copyleft or permissive licenses. Consult your legal department before using packages in this category."]}),"\n",(0,l.jsx)(n.h3,{id:"multiple-license-types",children:"Multiple license types"}),"\n",(0,l.jsx)(n.p,{children:"Some packages utilize multiple licenses. Semgrep treats packages with multiple licenses as if all licenses apply and behaves according to the strictest policy. For example, if a package allows use under the MIT license or the GPL-3.0 license, and the GPL-3.0 license is set to Block, but the MIT license is set to Allow, a pull request that adds the package is blocked."}),"\n",(0,l.jsxs)(n.p,{children:["You can add an ",(0,l.jsx)(n.a,{href:"#create-exemptions",children:"exemption for the package"})," if subsequent review indicates the dependency is safe for use under any of the detected licenses."]}),"\n",(0,l.jsx)(n.h2,{id:"create-exemptions",children:"Create exemptions"}),"\n",(0,l.jsxs)(n.p,{children:["You can create exemptions to ",(0,l.jsx)(n.strong,{children:"allow"})," specific dependencies. This feature is\nuseful for internal dependencies not accessed by users or external APIs.\nDependency exemptions are currently version-specific, so each version used must be\nexempted individually."]}),"\n",(0,l.jsx)(n.p,{children:"To exempt a package:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Sign in to Semgrep AppSec Platform and navigate to ",(0,l.jsx)(n.strong,{children:"Supply Chain"})," >\n",(0,l.jsx)(n.strong,{children:"Dependencies"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"Search for the dependencies you want to exempt."}),"\n",(0,l.jsxs)(n.li,{children:["Click the dependency's ",(0,l.jsx)("i",{class:"fa-solid fa-list-check"})," icon to exempt\nit. Upon clicking on the icon, its permission changes. Click again on the icon to remove the exemption if necessary."]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Exempted dependencies appear in the ",(0,l.jsx)(n.strong,{children:"Supply Chain"})," > ",(0,l.jsx)(n.strong,{children:"Settings"})," tab."]}),"\n",(0,l.jsx)(n.h3,{id:"create-custom-dependency-exceptions",children:"Create custom dependency exceptions"}),"\n",(0,l.jsx)(n.p,{children:"Custom dependency exceptions allow you to manually allowlist a dependency to\nprevent Semgrep from blocking a pull request or merge request due to licensing\nissues."}),"\n",(0,l.jsxs)(n.p,{children:["For example, if ",(0,l.jsx)(n.code,{children:"bitwarden/cli@2023.9.0"}),", which has a GPL-3.0 license, is on the\nallowlist, you must add an additional exception when upgrading to\n",(0,l.jsx)(n.code,{children:"bitwarden/cli@2023.9.1"}),". However, the dependency to which you're upgrading\nisn't yet listed in ",(0,l.jsx)(n.strong,{children:"Dependencies"}),"; they appear only ",(0,l.jsx)(n.strong,{children:"after"})," you've scanned\nyour project. Because the dependency isn't listed, you must manually create the\nexception. This ensures that the exclusion won't fail when you upgrade to\n",(0,l.jsx)(n.code,{children:"bitwarden/cli@2023.9.1"})," and scan your project again with Semgrep Supply Chain."]}),"\n",(0,l.jsx)(n.p,{children:"To set a custom dependency exception:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Sign in to Semgrep AppSec Platform and navigate to ",(0,l.jsx)(n.strong,{children:"Supply Chain > License configuration"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["In ",(0,l.jsx)(n.strong,{children:"Custom dependency exceptions"}),", click ",(0,l.jsx)(n.strong,{children:"Add custom exception"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["In the ",(0,l.jsx)(n.strong,{children:"Add custom dependency exception"})," window that appears:","\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Select the ",(0,l.jsx)(n.strong,{children:"Ecosystem"})," where this dependency applies."]}),"\n",(0,l.jsxs)(n.li,{children:["Provide the ",(0,l.jsx)(n.strong,{children:"Package name"}),", for example, ",(0,l.jsx)(n.code,{children:"bitwarden/cli"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Provide the ",(0,l.jsx)(n.strong,{children:"Version"})," information for the package. The major, minor, and\npatch version information is required; pre-release and build metadata are\noptional."]}),"\n",(0,l.jsxs)(n.li,{children:["Click ",(0,l.jsx)(n.strong,{children:"Add"})," to save and add the exception."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"Semgrep AppSec Platform&#39;s Add custom exception window",src:s(45216).A+"#md-width",width:"1278",height:"966"})})]})}function p(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},93892:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/sc-license-configuration-20c81e3d33aeaa714e1f8fd1ed0cf282.png"}}]);