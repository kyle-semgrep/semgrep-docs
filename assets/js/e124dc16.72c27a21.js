"use strict";(self.webpackChunkmegadocs=self.webpackChunkmegadocs||[]).push([[71533],{28453:(e,i,s)=>{s.d(i,{R:()=>t,x:()=>a});var n=s(96540);const r={},o=n.createContext(r);function t(e){const i=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),n.createElement(o.Provider,{value:i},e.children)}},41829:e=>{e.exports=JSON.parse('{"permalink":"/semgrep-docs/release-notes/december-2021","source":"@site/release-notes/december-2021.md","title":"December 2021","description":"Release notes include the changes, fixes, and additions in specific versions of Semgrep.","date":"2021-12-31T10:00:00.000Z","tags":[{"inline":true,"label":"Release notes","permalink":"/semgrep-docs/release-notes/tags/release-notes"}],"readingTime":3.775,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"december-2021","append_help_link":true,"hide_title":true,"description":"Release notes include the changes, fixes, and additions in specific versions of Semgrep.","toc_max_heading_level":3,"tags":["Release notes"],"hide_table_of_contents":false,"date":"2021-12-31T10:00","title":"December 2021"},"unlisted":false,"prevItem":{"title":"January 2022","permalink":"/semgrep-docs/release-notes/january-2022"},"nextItem":{"title":"November 2021","permalink":"/semgrep-docs/release-notes/november-2021"}}')},59948:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>t,metadata:()=>n,toc:()=>d});var n=s(41829),r=s(74848),o=s(28453);const t={slug:"december-2021",append_help_link:!0,hide_title:!0,description:"Release notes include the changes, fixes, and additions in specific versions of Semgrep.",toc_max_heading_level:3,tags:["Release notes"],hide_table_of_contents:!1,date:"2021-12-31T10:00",title:"December 2021"},a="December 2021",l={authorsImageUrls:[]},d=[{value:"Version 0.77.0",id:"version-0770",level:2},{value:"Highlights",id:"highlights",level:3},{value:"Semgrep CLI and Semgrep CI now ignore the same patterns",id:"semgrep-cli-and-semgrep-ci-now-ignore-the-same-patterns",level:4},{value:"Autofix improvement",id:"autofix-improvement",level:4},{value:"Additions",id:"additions",level:3},{value:"Scala",id:"scala",level:4},{value:"<code>.semgrepignore</code>",id:"semgrepignore",level:4},{value:"Java",id:"java",level:4},{value:"Fixes",id:"fixes",level:3},{value:"Changes",id:"changes",level:3},{value:"Constant propagation",id:"constant-propagation",level:4},{value:"Dataflow",id:"dataflow",level:4},{value:"The <code>--time</code> option now includes time spent on processing",id:"the---time-option-now-includes-time-spent-on-processing",level:4},{value:"semgrep-core improvement",id:"semgrep-core-improvement",level:4},{value:"Additional information",id:"additional-information",level:4},{value:"Version 0.76.2",id:"version-0762",level:2},{value:"Additions",id:"additions-1",level:3},{value:"Support for Solidity",id:"support-for-solidity",level:4},{value:"Fixes",id:"fixes-1",level:3},{value:"Python",id:"python",level:4},{value:"Semgrep reports relative file paths with <code>.semgrepignore</code>",id:"semgrep-reports-relative-file-paths-with-semgrepignore",level:4},{value:"Additional information",id:"additional-information-1",level:4},{value:"Version 0.76.1",id:"version-0761",level:2},{value:"Fixes",id:"fixes-2",level:3},{value:"<code>.semgrepignore</code>",id:"semgrepignore-1",level:4},{value:"Version 0.76.0",id:"version-0760",level:2},{value:"Additions",id:"additions-2",level:3},{value:"Improved filtering of rules",id:"improved-filtering-of-rules",level:4},{value:"Semgrep CLI",id:"semgrep-cli",level:4},{value:"Java support improvement",id:"java-support-improvement",level:4},{value:"Fixes",id:"fixes-3",level:3},{value:"Java",id:"java-1",level:4},{value:"TypeScript",id:"typescript",level:4},{value:"taint-mode",id:"taint-mode",level:4},{value:"metavariable-comparison",id:"metavariable-comparison",level:4},{value:"semgrep-core",id:"semgrep-core",level:4},{value:"Python",id:"python-1",level:4},{value:"YAML",id:"yaml",level:4},{value:"Changes",id:"changes-1",level:3},{value:"semgrep-core",id:"semgrep-core-1",level:4},{value:"Given <code>--output</code> Semgrep no longer prints search results to stdout",id:"given---output-semgrep-no-longer-prints-search-results-to-stdout",level:4},{value:"Additional information",id:"additional-information-2",level:4}];function h(e){const i={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.p,{children:"The following updates were made to Semgrep in December 2021."}),"\n",(0,r.jsx)(i.h2,{id:"version-0770",children:"Version 0.77.0"}),"\n",(0,r.jsx)(i.h3,{id:"highlights",children:"Highlights"}),"\n",(0,r.jsx)(i.h4,{id:"semgrep-cli-and-semgrep-ci-now-ignore-the-same-patterns",children:"Semgrep CLI and Semgrep CI now ignore the same patterns"}),"\n",(0,r.jsxs)(i.p,{children:["With this update, Semgrep CLI now ignores the same patterns as the Semgrep CI by default. Find ",(0,r.jsx)(i.a,{href:"https://github.com/semgrep/semgrep/blob/develop/cli/src/semgrep/templates/.semgrepignore",children:"the default .semgrepignore on GitHub"}),". If you want to return to Semgrep\u2019s previous behavior, create an empty ",(0,r.jsx)(i.code,{children:".semgrepignore"})," file. However, creating a new ",(0,r.jsx)(i.code,{children:".semgrepignore"})," overrides the default setup."]}),"\n",(0,r.jsx)(i.h4,{id:"autofix-improvement",children:"Autofix improvement"}),"\n",(0,r.jsxs)(i.p,{children:["An autofix improvement from ",(0,r.jsx)(i.a,{href:"https://github.com/chair6",children:"https://github.com/chair6"})," from Hashicorp! Big shoutout to them. Fixes several issues (auto fixing multiple things in the same set of lines). This change addresses several issues related to autofix by adding per-file line and column offset tracking, and uses those offsets when making edits to files. The improvement addresses several edge cases in the existing autofix implementation that Semgrep did not handle correctly previously. The addressed issues are the following: ",(0,r.jsx)(i.a,{href:"https://github.com/semgrep/semgrep/issues/4428",children:"#4428"}),", ",(0,r.jsx)(i.a,{href:"https://github.com/semgrep/semgrep/issues/3577",children:"#3577"}),", ",(0,r.jsx)(i.a,{href:"https://github.com/semgrep/semgrep/issues/3388",children:"#3388"}),"."]}),"\n",(0,r.jsx)(i.h3,{id:"additions",children:"Additions"}),"\n",(0,r.jsx)(i.h4,{id:"scala",children:"Scala"}),"\n",(0,r.jsxs)(i.p,{children:["Semgrep now correctly matches patterns as ",(0,r.jsx)(i.code,{children:"List(...)"}),"."]}),"\n",(0,r.jsx)(i.h4,{id:"semgrepignore",children:(0,r.jsx)(i.code,{children:".semgrepignore"})}),"\n",(0,r.jsxs)(i.p,{children:["Default set of ",(0,r.jsx)(i.code,{children:".semgrepignore"})," patterns (in ",(0,r.jsx)(i.code,{children:"semgrep/templates/.semgrepignore"}),") is now used by default. You can override the default behavior by creating your own ",(0,r.jsx)(i.code,{children:".semgrepignore"})," file."]}),"\n",(0,r.jsx)(i.h4,{id:"java",children:"Java"}),"\n",(0,r.jsxs)(i.p,{children:["You can now use ellipsis metavariables for parameters. (",(0,r.jsx)(i.a,{href:"https://github.com/semgrep/semgrep/issues/4420",children:"#4420"}),")"]}),"\n",(0,r.jsx)(i.h3,{id:"fixes",children:"Fixes"}),"\n",(0,r.jsxs)(i.p,{children:["The fixed section now remains only as changelog notes. To see the changelog notes, visit ",(0,r.jsx)(i.a,{href:"https://github.com/semgrep/semgrep/releases/tag/v0.77.0",children:"Semgrep changelog"}),"."]}),"\n",(0,r.jsx)(i.h3,{id:"changes",children:"Changes"}),"\n",(0,r.jsx)(i.h4,{id:"constant-propagation",children:"Constant propagation"}),"\n",(0,r.jsx)(i.p,{children:"Constant propagation is now fully a must analysis, if a variable is undefined in some path then it is considered as a non-constant."}),"\n",(0,r.jsx)(i.h4,{id:"dataflow",children:"Dataflow"}),"\n",(0,r.jsx)(i.p,{children:"Dataflow now considers only reachable nodes, which prevents some false-positive or false-negative findings."}),"\n",(0,r.jsxs)(i.h4,{id:"the---time-option-now-includes-time-spent-on-processing",children:["The ",(0,r.jsx)(i.code,{children:"--time"})," option now includes time spent on processing"]}),"\n",(0,r.jsxs)(i.p,{children:["With this update, Semgrep's ",(0,r.jsx)(i.code,{children:"--time"})," option output includes the time spent on getting the configs, running the matching engine, and processing of ignores."]}),"\n",(0,r.jsx)(i.h4,{id:"semgrep-core-improvement",children:"semgrep-core improvement"}),"\n",(0,r.jsx)(i.p,{children:"The semgrep-core logs a warning when a worker process is consuming above 400 MiB of memory or reaches 80% of the specified memory limit. This change is made to help diagnose out of memory (OOM) related crashes."}),"\n",(0,r.jsx)(i.h4,{id:"additional-information",children:"Additional information"}),"\n",(0,r.jsxs)(i.p,{children:["To view the original release information, see ",(0,r.jsx)(i.a,{href:"https://github.com/semgrep/semgrep/releases/tag/v0.77.0",children:"the changelog of this release on GitHub"}),"."]}),"\n",(0,r.jsx)(i.h2,{id:"version-0762",children:"Version 0.76.2"}),"\n",(0,r.jsx)(i.h3,{id:"additions-1",children:"Additions"}),"\n",(0,r.jsx)(i.h4,{id:"support-for-solidity",children:"Support for Solidity"}),"\n",(0,r.jsx)(i.p,{children:"Semgrep now provides experimental support for the Solidity programming language."}),"\n",(0,r.jsx)(i.h3,{id:"fixes-1",children:"Fixes"}),"\n",(0,r.jsx)(i.h4,{id:"python",children:"Python"}),"\n",(0,r.jsxs)(i.p,{children:["Comprehension variables now have the correct scope, which means that a pattern like ",(0,r.jsx)(i.code,{children:"[$X for $X in $ITERATOR]"})," now correctly matches ",(0,r.jsx)(i.code,{children:"[v for v in foo()]"}),". (",(0,r.jsx)(i.a,{href:"https://github.com/semgrep/semgrep/issues/4260",children:"#4260"}),")"]}),"\n",(0,r.jsxs)(i.h4,{id:"semgrep-reports-relative-file-paths-with-semgrepignore",children:["Semgrep reports relative file paths with ",(0,r.jsx)(i.code,{children:".semgrepignore"})]}),"\n",(0,r.jsxs)(i.p,{children:["Previously, when you used Semgrep with ",(0,r.jsx)(i.code,{children:".semgrepignore"})," file, Semgrep reported targets with absolute instead of relative file paths. This issue has now been fixed. (",(0,r.jsx)(i.a,{href:"https://github.com/semgrep/semgrep/pull/4402",children:"#4402"}),")"]}),"\n",(0,r.jsx)(i.h4,{id:"additional-information-1",children:"Additional information"}),"\n",(0,r.jsxs)(i.p,{children:["To view the original release information, see ",(0,r.jsx)(i.a,{href:"https://github.com/semgrep/semgrep/releases/tag/v0.76.2",children:"the changelog of this release on GitHub"}),"."]}),"\n",(0,r.jsx)(i.h2,{id:"version-0761",children:"Version 0.76.1"}),"\n",(0,r.jsx)(i.h3,{id:"fixes-2",children:"Fixes"}),"\n",(0,r.jsx)(i.h4,{id:"semgrepignore-1",children:(0,r.jsx)(i.code,{children:".semgrepignore"})}),"\n",(0,r.jsxs)(i.p,{children:["Previously, when you used Semgrep with a ",(0,r.jsx)(i.code,{children:".semgrepignore"})," file, Semgrep failed to run on files that were not subpaths of the directory where Semgrep was used."]}),"\n",(0,r.jsx)(i.h2,{id:"version-0760",children:"Version 0.76.0"}),"\n",(0,r.jsx)(i.h3,{id:"additions-2",children:"Additions"}),"\n",(0,r.jsx)(i.h4,{id:"improved-filtering-of-rules",children:"Improved filtering of rules"}),"\n",(0,r.jsx)(i.p,{children:"Semgrep now has improved filtering of rules based on file content, resulting in notable speedup for NodeJsScan rules."}),"\n",(0,r.jsx)(i.h4,{id:"semgrep-cli",children:"Semgrep CLI"}),"\n",(0,r.jsxs)(i.p,{children:["Semgrep CLI now respects ",(0,r.jsx)(i.code,{children:".semgrepignore"})," files. For more information about ignoring files, see ",(0,r.jsx)(i.a,{href:"/cli-reference/#ignore-files",children:"Semgrep documentation"}),"."]}),"\n",(0,r.jsx)(i.h4,{id:"java-support-improvement",children:"Java support improvement"}),"\n",(0,r.jsxs)(i.p,{children:["Semgrep now supports ellipsis in generics, for example: ",(0,r.jsx)(i.code,{children:"class Foo<...>"})," (",(0,r.jsx)(i.a,{href:"https://github.com/semgrep/semgrep/issues/4335",children:"#4335"}),")"]}),"\n",(0,r.jsx)(i.h3,{id:"fixes-3",children:"Fixes"}),"\n",(0,r.jsx)(i.h4,{id:"java-1",children:"Java"}),"\n",(0,r.jsxs)(i.p,{children:["When you use Semgrep to search for patterns that do not specify generics, Semgrep now also matches classes that are using generics. For example: ",(0,r.jsx)(i.code,{children:"class $X {...}"})," which is not specifying generics, now matches ",(0,r.jsx)(i.code,{children:"class Foo<T> { }"}),". (",(0,r.jsx)(i.a,{href:"https://github.com/semgrep/semgrep/issues/4335",children:"#4335"}),")"]}),"\n",(0,r.jsx)(i.h4,{id:"typescript",children:"TypeScript"}),"\n",(0,r.jsxs)(i.p,{children:["Semgrep now correctly parses TypeScript type definitions. (",(0,r.jsx)(i.a,{href:"https://github.com/semgrep/semgrep/issues/4330",children:"#4330"}),")"]}),"\n",(0,r.jsx)(i.h4,{id:"taint-mode",children:"taint-mode"}),"\n",(0,r.jsxs)(i.p,{children:["Semgrep taint-mode now reports findings when the Left Hand Side (LHS) operand of an access operator is a sink (for example as in ",(0,r.jsx)(i.code,{children:"$SINK->method"}),"), and the LHS operand is a tainted variable. (",(0,r.jsx)(i.a,{href:"https://github.com/semgrep/semgrep/issues/4320",children:"#4320"}),")"]}),"\n",(0,r.jsx)(i.h4,{id:"metavariable-comparison",children:"metavariable-comparison"}),"\n",(0,r.jsxs)(i.p,{children:["Semgrep metavariable-comparison does not return a ",(0,r.jsx)(i.code,{children:"NotHandled"})," error anymore. (",(0,r.jsx)(i.a,{href:"https://github.com/semgrep/semgrep/issues/4328",children:"#4328"}),")"]}),"\n",(0,r.jsx)(i.h4,{id:"semgrep-core",children:"semgrep-core"}),"\n",(0,r.jsxs)(i.p,{children:["Fix a segmentation fault on Apple M1 processors when using ",(0,r.jsx)(i.code,{children:"-filter_irrelevant_rules"})," on rules with very large pattern-either fields. (",(0,r.jsx)(i.a,{href:"https://github.com/semgrep/semgrep/issues/4305",children:"#4305"}),")"]}),"\n",(0,r.jsx)(i.h4,{id:"python-1",children:"Python"}),"\n",(0,r.jsxs)(i.p,{children:["Generate correct lexical exn for unbalanced braces. (",(0,r.jsx)(i.a,{href:"https://github.com/semgrep/semgrep/issues/4310",children:"#4310"}),")"]}),"\n",(0,r.jsx)(i.h4,{id:"yaml",children:"YAML"}),"\n",(0,r.jsx)(i.p,{children:"Fix off-by-one error in location of arrays."}),"\n",(0,r.jsx)(i.h3,{id:"changes-1",children:"Changes"}),"\n",(0,r.jsx)(i.h4,{id:"semgrep-core-1",children:"semgrep-core"}),"\n",(0,r.jsx)(i.p,{children:"Log messages are now tagged with the process id."}),"\n",(0,r.jsxs)(i.h4,{id:"given---output-semgrep-no-longer-prints-search-results-to-stdout",children:["Given ",(0,r.jsx)(i.code,{children:"--output"})," Semgrep no longer prints search results to stdout"]}),"\n",(0,r.jsxs)(i.p,{children:["When using ",(0,r.jsx)(i.code,{children:"--output"})," parameter, Semgrep no longer prints findings to standard output (stdout), but it only saves or posts those findings to the specified file or URL."]}),"\n",(0,r.jsx)(i.h4,{id:"additional-information-2",children:"Additional information"}),"\n",(0,r.jsxs)(i.p,{children:["To view the original release information, see ",(0,r.jsx)(i.a,{href:"https://github.com/semgrep/semgrep/releases/tag/v0.76.0",children:"the changelog of this release on GitHub"}),"."]})]})}function p(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);