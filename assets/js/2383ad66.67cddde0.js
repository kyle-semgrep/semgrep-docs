"use strict";(self.webpackChunkmegadocs=self.webpackChunkmegadocs||[]).push([[26906],{28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>t});var r=s(96540);const i={},c=r.createContext(i);function a(e){const n=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(c.Provider,{value:n},e.children)}},45496:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"semgrep-ci/packages-in-semgrep-docker","title":"Packages in Semgrep docker","description":"Packages included in the latest Semgrep docker image.","source":"@site/docs/semgrep-ci/packages-in-semgrep-docker.md","sourceDirName":"semgrep-ci","slug":"/semgrep-ci/packages-in-semgrep-docker","permalink":"/semgrep-docs/semgrep-ci/packages-in-semgrep-docker","draft":false,"unlisted":false,"editUrl":"https://github.com/semgrep/semgrep-docs/edit/main/docs/semgrep-ci/packages-in-semgrep-docker.md","tags":[{"inline":true,"label":"Deployment","permalink":"/semgrep-docs/tags/deployment"},{"inline":true,"label":"Semgrep AppSec Platform","permalink":"/semgrep-docs/tags/semgrep-app-sec-platform"}],"version":"current","lastUpdatedAt":1736459486000,"frontMatter":{"slug":"packages-in-semgrep-docker","title":"Packages in Semgrep docker","hide_title":true,"description":"Packages included in the latest Semgrep docker image.","tags":["Deployment","Semgrep AppSec Platform"]},"sidebar":"scanSidebar","previous":{"title":"Findings in CI","permalink":"/semgrep-docs/semgrep-ci/findings-ci"},"next":{"title":"Language-specific features","permalink":"/semgrep-docs/category/language-specific-features"}}');var i=s(74848),c=s(28453);const a={slug:"packages-in-semgrep-docker",title:"Packages in Semgrep docker",hide_title:!0,description:"Packages included in the latest Semgrep docker image.",tags:["Deployment","Semgrep AppSec Platform"]},t="Packages in the Semgrep docker image",d={},o=[{value:"Packages",id:"packages",level:2},{value:"Previous incidents",id:"previous-incidents",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"packages-in-the-semgrep-docker-image",children:"Packages in the Semgrep docker image"})}),"\n",(0,i.jsx)(n.h2,{id:"packages",children:"Packages"}),"\n",(0,i.jsxs)(n.p,{children:["In addition to the ",(0,i.jsx)(n.code,{children:"semgrep"})," binary, the ",(0,i.jsxs)(n.a,{href:"https://hub.docker.com/r/semgrep/semgrep/tags",children:[(0,i.jsx)("i",{class:"fas fa-external-link fa-xs"})," ",(0,i.jsx)(n.code,{children:"semgrep/semgrep:latest"})," docker image"]})," contains the following packages:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"bash"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"jq"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"curl"})}),"\n",(0,i.jsxs)(n.li,{children:["Python 3.11 (",(0,i.jsx)(n.code,{children:"alpine:3.19"})," base image)"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The Alpine 3.19 docker image includes additional packages that can change without notice. To review them, run ",(0,i.jsx)(n.code,{children:"docker run alpine:3.19 apk list"}),"."]}),"\n",(0,i.jsxs)(n.admonition,{type:"caution",children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Do ",(0,i.jsx)(n.strong,{children:"not"})," rely on the presence of packages from the Alpine docker image in your CI workflows. They are not guaranteed to be included in the future and are not managed by Semgrep."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"jq"})," and ",(0,i.jsx)(n.code,{children:"curl"})," may be removed in future Semgrep releases. You can install them directly in the docker image. For example:"]}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"  job:\n    container: semgrep/semgrep:latest\n    runs-on: ubuntu-latest-16-core\n    steps:\n      - uses: actions/checkout@v3\n      - name: Install dependencies\n        run: apk add bash jq curl\n      - run: semgrep scan --json ... | jq ...\n"})})]}),"\n",(0,i.jsx)(n.h2,{id:"previous-incidents",children:"Previous incidents"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.a,{href:"https://github.com/semgrep/semgrep/releases/tag/v1.66.0",children:[(0,i.jsx)("i",{class:"fas fa-external-link fa-xs"})," Semgrep v.1.66.0"]})," removed ",(0,i.jsx)(n.code,{children:"bash"}),", ",(0,i.jsx)(n.code,{children:"jq"}),", and ",(0,i.jsx)(n.code,{children:"curl"})," to reduce the attack surface of the Semgrep docker image. They were subsequently re-added for future Semgrep releases."]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);