"use strict";(self.webpackChunkmegadocs=self.webpackChunkmegadocs||[]).push([[9903],{28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var i=s(96540);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}},40148:e=>{e.exports=JSON.parse('{"permalink":"/docs/release-notes/april-2022","source":"@site/release-notes/april-2022.md","title":"April 2022","description":"Release notes include the changes, fixes, and additions in specific versions of Semgrep.","date":"2022-04-30T10:00:00.000Z","tags":[{"inline":true,"label":"Release notes","permalink":"/docs/release-notes/tags/release-notes"}],"readingTime":2.91,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"april-2022","append_help_link":true,"hide_title":true,"description":"Release notes include the changes, fixes, and additions in specific versions of Semgrep.","toc_max_heading_level":3,"tags":["Release notes"],"hide_table_of_contents":false,"date":"2022-04-30T10:00","title":"April 2022"},"unlisted":false,"prevItem":{"title":"May 2022","permalink":"/docs/release-notes/may-2022"},"nextItem":{"title":"March 2022","permalink":"/docs/release-notes/march-2022"}}')},53376:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/rule-board-bce3b857a95b5bc74ec1c7f2defe56d3.png"},86088:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>d});var i=s(40148),t=s(74848),r=s(28453);const a={slug:"april-2022",append_help_link:!0,hide_title:!0,description:"Release notes include the changes, fixes, and additions in specific versions of Semgrep.",toc_max_heading_level:3,tags:["Release notes"],hide_table_of_contents:!1,date:"2022-04-30T10:00",title:"April 2022"},o="April 2022",l={authorsImageUrls:[]},d=[{value:"Semgrep App",id:"semgrep-app",level:2},{value:"Additions",id:"additions",level:3},{value:"Changes",id:"changes",level:3},{value:"Semgrep CLI and Semgrep in CI",id:"semgrep-cli-and-semgrep-in-ci",level:2},{value:"Changes",id:"changes-1",level:3},{value:"Breaking changes",id:"breaking-changes",level:3},{value:"Additions",id:"additions-1",level:3}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"The following updates were made to Semgrep in April 2022."}),"\n",(0,t.jsxs)(n.p,{children:["These release notes now include edited important and breaking changes. To see the complete change notes, visit the ",(0,t.jsx)(n.a,{href:"https://github.com/semgrep/semgrep/releases",children:"Semgrep changelog"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"semgrep-app",children:"Semgrep App"}),"\n",(0,t.jsx)(n.h3,{id:"additions",children:"Additions"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"You can now search for a rule within your Rule Board."}),"\n",(0,t.jsxs)(n.li,{children:["A ",(0,t.jsx)(n.code,{children:"Comment"})," column within the Rule Board enables Semgrep App to create suggestions and messages within Pull Requests (PRs) or Merge Requests (MR) based on the rule's ",(0,t.jsx)(n.code,{children:"autofix"})," and ",(0,t.jsx)(n.code,{children:"message"})," values."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"changes",children:"Changes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Unlisted rule visibility has been renamed to Public within the Editor."}),"\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.code,{children:"Audit"})," column within the Rule Board has been renamed to ",(0,t.jsx)(n.code,{children:"Monitor"}),". Findings generated by rules within this column are displayed only on Semgrep App.\n",(0,t.jsx)(n.img,{alt:"New rule board.",src:s(53376).A+"",title:"New rule board.",width:"1385",height:"1008"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"semgrep-cli-and-semgrep-in-ci",children:"Semgrep CLI and Semgrep in CI"}),"\n",(0,t.jsxs)(n.p,{children:["These release notes encompass upgrades for all versions ranging between ",(0,t.jsx)(n.strong,{children:"0.87.0"})," and ",(0,t.jsx)(n.strong,{children:"0.90.0"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"changes-1",children:"Changes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["For GitHub Enterprise users: Semgrep CI uses ",(0,t.jsx)(n.code,{children:"GITHUB_SERVER_URL"})," to generate URLs if it is available."]}),"\n",(0,t.jsx)(n.li,{children:"When running a baseline scan on a shallow-cloned Git repository, Semgrep still needs enough Git history available to reach the branch-off point between the baseline and current branch. Previously, Semgrep tried to gradually fetch more and more commits up to a thousand commits of history, and then fetch all commits from the remote Git server. Now, Semgrep keeps trying smaller batches until up to a million commits. This change reduces runtimes on large baseline scans on very large repositories."}),"\n",(0,t.jsxs)(n.li,{children:["You can now set ",(0,t.jsx)(n.code,{children:"NO_COLOR=1"})," to force-disable colored output."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"breaking-changes",children:"Breaking changes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["taint-mode: Unification of metavariables between sources and sinks is no longer enforced by default. It was not clear that this is the most natural behavior as it was confusing even for experienced Semgrep users. Instead, each set of metavariables is now considered independent by Semgrep. The metavariables available to the rule message are all metavariables bound by ",(0,t.jsx)(n.code,{children:"pattern-sinks"}),", and the subset of metavariables bound by ",(0,t.jsx)(n.code,{children:"pattern-sources"})," that do not collide with the ones bound by ",(0,t.jsx)(n.code,{children:"pattern-sinks"}),". We do not expect this change to break many taint rules because source-sink metavariable unification had a bug (see ",(0,t.jsx)(n.a,{href:"https://github.com/semgrep/semgrep/issues/4453",children:"#4464"}),") that prevented metavariables bound by a ",(0,t.jsx)(n.code,{children:"pattern-inside"})," to be unified, thus limiting the usefulness of the feature. Nonetheless, it is still possible to enforce metavariable unification by setting ",(0,t.jsx)(n.code,{children:"taint_unify_mvars: true"})," in the rule options. For more information, see section ",(0,t.jsx)(n.a,{href:"/writing-rules/data-flow/taint-mode/#metavariables-rule-message-and-unification",children:"Metavariables, rule message, and unification"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.code,{children:"semgrep/semgrep"})," Docker image no longer sets ",(0,t.jsx)(n.code,{children:"semgrep"})," as the entry point. This means that Semgrep is no longer prepended automatically to any command you run in the image. This makes it possible to use the image in CI executors that run provisioning commands within the image. Affected users may receive a deprecation notice. Adjust scripts accordingly."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"additions-1",children:"Additions"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["A new ",(0,t.jsx)(n.code,{children:"focus-metavariable"})," operator that enables you to focus (or zoom in) the match on the code region delimited by a metavariable. This operator is useful for narrowing down the code matched by a rule, to focus on what matters. For more information, see ",(0,t.jsx)(n.a,{href:"/writing-rules/rule-syntax/#focus-metavariable",children:"focus-metavariable documentation"}),". (",(0,t.jsx)(n.a,{href:"https://github.com/semgrep/semgrep/issues/4453",children:"#4453"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:["Join mode now supports inline rules through the ",(0,t.jsx)(n.code,{children:"rules"})," key underneath the ",(0,t.jsx)(n.code,{children:"join"})," key. For more information, see ",(0,t.jsx)(n.a,{href:"/writing-rules/experiments/join-mode/overview/#inline-rule-example",children:"Inline rule example"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Language support improvements:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Scala support is now officially fully GA.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Ellipsis method chaining supported."}),"\n",(0,t.jsxs)(n.li,{children:["Type ",(0,t.jsx)(n.code,{children:"metavariables"})," are now supported."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Ruby support improvement:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Add basic support for lambdas in patterns. You can now write patterns of the form ",(0,t.jsx)(n.code,{children:"-> (P) {Q}"})," where ",(0,t.jsx)(n.code,{children:"P"})," and ",(0,t.jsx)(n.code,{children:"Q"})," are sub-patterns. (",(0,t.jsx)(n.a,{href:"https://github.com/semgrep/semgrep/issues/4950",children:"#4950"}),")"]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);