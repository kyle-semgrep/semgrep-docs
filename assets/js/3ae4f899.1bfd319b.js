"use strict";(self.webpackChunkmegadocs=self.webpackChunkmegadocs||[]).push([[28460],{19052:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>l,frontMatter:()=>p,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"kb/semgrep-appsec-platform/findings-count-differ-api-platform","title":"Why do the findings count differ in the API and the Semgrep AppSec Platform UI?","description":"Learn why the count of findings differs in the API and Semgrep AppSec Platform.","source":"@site/docs/kb/semgrep-appsec-platform/findings-count-differ-api-platform.md","sourceDirName":"kb/semgrep-appsec-platform","slug":"/kb/semgrep-appsec-platform/findings-count-differ-api-platform","permalink":"/semgrep-docs/kb/semgrep-appsec-platform/findings-count-differ-api-platform","draft":false,"unlisted":false,"editUrl":"https://github.com/kyle-semgrep/semgrep-docs/edit/main?base=kyle-semgrep:main/docs/kb/semgrep-appsec-platform/findings-count-differ-api-platform.md","tags":[{"inline":true,"label":"Semgrep AppSec Platform","permalink":"/semgrep-docs/tags/semgrep-app-sec-platform"},{"inline":true,"label":"Semgrep Code","permalink":"/semgrep-docs/tags/semgrep-code"},{"inline":true,"label":"Semgrep Secrets","permalink":"/semgrep-docs/tags/semgrep-secrets"},{"inline":true,"label":"Semgrep Supply Chain","permalink":"/semgrep-docs/tags/semgrep-supply-chain"}],"version":"current","lastUpdatedAt":1752254305000,"frontMatter":{"description":"Learn why the count of findings differs in the API and Semgrep AppSec Platform.","tags":["Semgrep AppSec Platform","Semgrep Code","Semgrep Secrets","Semgrep Supply Chain"]},"sidebar":"kbSidebar","previous":{"title":"Search for specific findings","permalink":"/semgrep-docs/kb/semgrep-appsec-platform/search-specific-findings"},"next":{"title":"Why did the comments on a PR or MR not appear inline?","permalink":"/semgrep-docs/kb/semgrep-appsec-platform/inline-pr-comments"}}');var r=t(74848),s=t(28453);const p={description:"Learn why the count of findings differs in the API and Semgrep AppSec Platform.",tags:["Semgrep AppSec Platform","Semgrep Code","Semgrep Secrets","Semgrep Supply Chain"]},a="Why do the findings count differ in the API and the Semgrep AppSec Platform UI?",o={},c=[{value:"Semgrep Code and Supply Chain findings",id:"semgrep-code-and-supply-chain-findings",level:2},{value:"Semgrep Secrets findings",id:"semgrep-secrets-findings",level:2},{value:"Filters and scoping the API call to ensure consistency",id:"filters-and-scoping-the-api-call-to-ensure-consistency",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"why-do-the-findings-count-differ-in-the-api-and-the-semgrep-appsec-platform-ui",children:"Why do the findings count differ in the API and the Semgrep AppSec Platform UI?"})}),"\n",(0,r.jsx)(n.h2,{id:"semgrep-code-and-supply-chain-findings",children:"Semgrep Code and Supply Chain findings"}),"\n",(0,r.jsx)(n.p,{children:"Semgrep Code and Supply Chain findings shown in Semgrep AppSec Platform are automatically deduplicated by default. This means that a finding that appears across multiple branches or scans is counted only once (typically for the most recent occurrence on a primary branch). The findings, however, aren't deduplicated by default when you request them through the Semgrep API."}),"\n",(0,r.jsxs)(n.p,{children:["You can see results from the API that match those shown in Semgrep AppSec Platform by making a call to the ",(0,r.jsx)(n.a,{href:"https://semgrep.dev/api/v1/docs/#tag/Finding/operation/semgrep_app.core_exp.findings.handlers.issue.openapi_list_recent_issues",children:"List code or supply chain findings"})," endpoint, ensuring that you include the ",(0,r.jsx)(n.code,{children:"dedup=true"})," parameter."]}),"\n",(0,r.jsx)(n.h2,{id:"semgrep-secrets-findings",children:"Semgrep Secrets findings"}),"\n",(0,r.jsxs)(n.p,{children:["Semgrep AppSec Platform displays the latest instance of a Semgrep Secrets finding by default, even if the finding appears on a non-primary branch. A Secrets finding is considered relevant if it exists on ",(0,r.jsx)(n.em,{children:"any"})," branch. Semgrep's ",(0,r.jsx)(n.a,{href:"https://semgrep.dev/api/v1/docs/#tag/SecretsService",children:"Secrets API endpoint"})," also behaves this way, so the counts shown in Semgrep AppSec Platform and by the API are typically in agreement."]}),"\n",(0,r.jsx)(n.h2,{id:"filters-and-scoping-the-api-call-to-ensure-consistency",children:"Filters and scoping the API call to ensure consistency"}),"\n",(0,r.jsx)(n.p,{children:"To ensure consistency in the findings count shown by the Semgrep API and in the Semgrep AppSec Platform UI, use the same filters in your API query as those applied in the UI, such as:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Ref"}),"\n",(0,r.jsx)(n.li,{children:"Severity"}),"\n",(0,r.jsx)(n.li,{children:"Confidence"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"dedup=true"})," (this parameter is crucial for aligning the API output with the information shown in Semgrep AppSec Platform)"]}),"\n"]}),"\n",(0,r.jsxs)(n.admonition,{type:"note",children:[(0,r.jsx)(n.mdxAdmonitionTitle,{}),(0,r.jsxs)(n.p,{children:["When setting ",(0,r.jsx)(n.code,{children:"ref"}),", note that passing the ",(0,r.jsx)(n.code,{children:"ref=_default"})," parameter to the API is ",(0,r.jsx)(n.em,{children:"not"})," equivalent to setting the primary branch in Semgrep AppSec Platform. You must set ",(0,r.jsx)(n.code,{children:"ref"})," explicitly to the primary branch name, such as ",(0,r.jsx)(n.code,{children:"main"})," or ",(0,r.jsx)(n.code,{children:"master"}),", to ensure the output matches the information in the UI. Without this, the API returns findings from all branches."]})]})]})}function l(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>p,x:()=>a});var i=t(96540);const r={},s=i.createContext(r);function p(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:p(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);