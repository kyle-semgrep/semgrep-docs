"use strict";(self.webpackChunkmegadocs=self.webpackChunkmegadocs||[]).push([[36830],{28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>o});var i=r(96540);const s={},t=i.createContext(s);function a(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(t.Provider,{value:n},e.children)}},89929:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>l,frontMatter:()=>a,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"kb/semgrep-ci/why-duplicate-findings","title":"Why are duplicate findings appearing after running Semgrep in CI?","description":"To prevent duplicated findings, perform full scans only on the main branch of your repository.","source":"@site/docs/kb/semgrep-ci/why-duplicate-findings.md","sourceDirName":"kb/semgrep-ci","slug":"/kb/semgrep-ci/why-duplicate-findings","permalink":"/semgrep-docs/kb/semgrep-ci/why-duplicate-findings","draft":false,"unlisted":false,"editUrl":"https://github.com/kyle-semgrep/semgrep-docs/edit/main/docs/kb/semgrep-ci/why-duplicate-findings.md","tags":[{"inline":true,"label":"Semgrep in CI","permalink":"/semgrep-docs/tags/semgrep-in-ci"},{"inline":true,"label":"Semgrep AppSec Platform","permalink":"/semgrep-docs/tags/semgrep-app-sec-platform"}],"version":"current","lastUpdatedAt":1753220396000,"frontMatter":{"description":"To prevent duplicated findings, perform full scans only on the main branch of your repository.","tags":["Semgrep in CI","Semgrep AppSec Platform"]},"sidebar":"kbSidebar","previous":{"title":"Configure GitHub Actions to use the nonroot Semgrep docker image","permalink":"/semgrep-docs/kb/semgrep-ci/using-nonroot-docker-image-with-gha"},"next":{"title":"Integrations","permalink":"/semgrep-docs/kb/integrations"}}');var s=r(74848),t=r(28453);const a={description:"To prevent duplicated findings, perform full scans only on the main branch of your repository.",tags:["Semgrep in CI","Semgrep AppSec Platform"]},o="Why are duplicate findings appearing after running Semgrep in CI?",c={},p=[];function d(e){const n={a:"a",h1:"h1",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"why-are-duplicate-findings-appearing-after-running-semgrep-in-ci",children:"Why are duplicate findings appearing after running Semgrep in CI?"})}),"\n",(0,s.jsxs)(n.p,{children:["When scanning with Semgrep in CI, there are two types of scans you can perform: full scans and ",(0,s.jsx)(n.a,{href:"/deployment/customize-ci-jobs#set-up-diff-aware-scans",children:(0,s.jsx)(n.strong,{children:"diff-aware scans"})}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["For full scans, the same rule and code produces a finding for every branch it is found on. If you are performing full scans on all branches, ",(0,s.jsx)(n.a,{href:"/semgrep-code/remove-duplicates",children:"the same finding appears for each branch"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"To prevent duplication, Semgrep recommends performing full scans only on the main branch of your repository and performing diff-aware scans on other branches in PRs or MRs. Diff-aware scans compare findings on the current Git ref to findings on the base branch, allowing deduplication of findings not introduced in the PR/MR branch."}),"\n",(0,s.jsx)(n.p,{children:"For more on setting up diff-aware scanning, see:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/deployment/customize-ci-jobs#set-up-diff-aware-scans",children:"Customize CI jobs > Set up diff-aware scans"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/semgrep-ci/ci-environment-variables/#semgrep_baseline_ref",children:"CI environment variables: SEMGREP_BASELINE_REF"})}),"\n"]})]})}function l(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);