"use strict";(self.webpackChunkmegadocs=self.webpackChunkmegadocs||[]).push([[19828],{19651:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>o});var t=s(74848),r=s(28453);const o=[];function i(e){const n={a:"a",blockquote:"blockquote",li:"li",ol:"ol",p:"p",strong:"strong",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"By default, Semgrep comments include both Semgrep Code and Semgrep Supply Chain (SSC) findings information. However, if you would like to disable PR or MR comments for reachable SSC findings, you can do so as follows:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Sign in to ",(0,t.jsx)(n.a,{href:"https://semgrep.dev/login",children:"Semgrep AppSec Platform"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Go to ",(0,t.jsx)(n.strong,{children:"Settings > Deployment"})," and navigate to the ",(0,t.jsx)(n.strong,{children:"Supply Chain (SCA)"})," section."]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)("i",{class:"fa-solid fa-toggle-large-on"})," ",(0,t.jsx)(n.strong,{children:"PR/MR comments"})," to disable commenting."]}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["Disabling PR/MR comments doesn't disable notifications regarding ",(0,t.jsx)(n.a,{href:"/semgrep-supply-chain/license-compliance",children:"license policy violations"}),"."]}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}},25311:(e,n,s)=>{s.d(n,{Ay:()=>l,RM:()=>i});var t=s(74848),r=s(28453),o=s(81660);const i=[...o.RM,{value:"Test your configuration",id:"test-your-configuration",level:4}];function c(e){const n={a:"a",h4:"h4",p:"p",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Ay,{}),"\n",(0,t.jsx)(n.h4,{id:"test-your-configuration",children:"Test your configuration"}),"\n",(0,t.jsx)(n.p,{children:"Test that you are able to receive findings by manually triggering a scan through your CI provider."}),"\n",(0,t.jsxs)(n.p,{children:["Receiving PR or MR comments may require additional steps depending on the custom configuration of your VPN or SCM (for example, if you use a static IP without a hostname). Reach out to Semgrep support through the ",(0,t.jsx)(n.a,{href:"https://go.semgrep.dev/slack",children:"Semgrep Community Slack"})," or send an email to ",(0,t.jsx)(n.a,{href:"mailto:support@semgrep.com",children:"support@semgrep.com"})," for any concerns."]})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>c});var t=s(96540);const r={},o=t.createContext(r);function i(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(o.Provider,{value:n},e.children)}},28684:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>o});var t=s(74848),r=s(28453);const o=[];function i(e){const n={a:"a",p:"p",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"To configure comments for Supply Chain, you must define a Supply Chain policy. This policy lets you set the specific conditions, such as transitivity and reachability, that trigger a comment. These conditions are unique to Supply Chain findings."}),"\n",(0,t.jsxs)(n.p,{children:["See the ",(0,t.jsx)(n.a,{href:"/semgrep-supply-chain/policies",children:"Policies documentation"})," for more information."]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}},28934:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>o});var t=s(74848),r=s(28453);const o=[];function i(e){const n={a:"a",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Type of scan"}),(0,t.jsx)(n.th,{children:"Product name"}),(0,t.jsx)(n.th,{children:"Trigger condition"}),(0,t.jsx)(n.th,{children:"How to set up"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Static application security testing (SAST)"}),(0,t.jsx)(n.td,{children:"Semgrep Code"}),(0,t.jsxs)(n.td,{children:["A comment appears when a finding is generated by a rule in ",(0,t.jsx)(n.strong,{children:"Comment or Block mode"}),". This means you can fully customize what comments your developers receive."]}),(0,t.jsxs)(n.td,{children:["Complete the steps in the following sections:",(0,t.jsxs)("ol",{children:[(0,t.jsxs)("li",{children:[(0,t.jsx)(n.a,{href:"#confirm-your-semgrep-accounts-connection",children:"Confirm your Semgrep account's connection and access to your source code manager"}),"."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)(n.a,{href:"#configure-comments-for-semgrep-code",children:"Configure comments for Semgrep Code"}),"."]})]})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Software composition analysis (SCA)"}),(0,t.jsx)(n.td,{children:"Semgrep Supply Chain (SSC)"}),(0,t.jsxs)(n.td,{children:["A comment appears based on the conditions you explicitly set in a ",(0,t.jsx)(n.a,{href:"/semgrep-supply-chain/policies",children:"Supply Chain policy"})," or when Semgrep detects a ",(0,t.jsx)(n.a,{href:"/semgrep-supply-chain/license-compliance",children:"license violation"}),"."]}),(0,t.jsxs)(n.td,{children:["To receive Supply Chain comments, complete the steps in ",(0,t.jsx)(n.a,{href:"#confirm-your-semgrep-accounts-connection",children:"Confirm account connection and access"})," and ",(0,t.jsx)(n.a,{href:"/semgrep-supply-chain/policies",children:"set up a policy"}),". ",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),"To receive license violation comments, ",(0,t.jsx)(n.a,{href:"/semgrep-supply-chain/dependency-search#enable-and-use-dependency-search",children:"enable dependency search"}),"."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Secrets"}),(0,t.jsx)(n.td,{children:"Semgrep Secrets"}),(0,t.jsxs)(n.td,{children:["A comment appears when a finding is generated by a rule in ",(0,t.jsx)(n.strong,{children:"Comment or Block mode"}),". A comment also appears for invalid findings and validation errors if these conditions are set to ",(0,t.jsx)(n.strong,{children:"Comment or Block mode"}),"."]}),(0,t.jsxs)(n.td,{children:["Complete the steps in the following sections:",(0,t.jsxs)("ol",{children:[(0,t.jsxs)("li",{children:[(0,t.jsx)(n.a,{href:"#confirm-your-semgrep-accounts-connection",children:"Confirm your Semgrep account's connection and access to your source code manager"}),"."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)(n.a,{href:"#configure-comments-for-semgrep-secrets",children:"Configure comments for Semgrep Secrets"}),"."]})]})]})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"Comments from Supply Chain scans include the following information:"}),"\n",(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{children:"Risk"}),(0,t.jsx)("dd",{children:"A description of the vulnerability, including the types of attack it is vulnerable to."}),(0,t.jsx)("dt",{children:"Fix"}),(0,t.jsx)("dd",{children:"Indicates what versions to upgrade to, if any, that resolves or eliminates the vulnerability."}),(0,t.jsx)("dt",{children:"Reference"}),(0,t.jsxs)("dd",{children:["A link to additional information about the vulnerability from its source, such as the ",(0,t.jsx)("a",{href:"https://github.com/advisories",children:"GitHub Advisory Database"})," and the ",(0,t.jsx)("a",{href:"https://nvd.nist.gov/vuln",children:"National Vulnerability Database (NVD)"}),", if available."]})]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}},30047:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>x,contentTitle:()=>f,default:()=>b,frontMatter:()=>g,metadata:()=>t,toc:()=>j});const t=JSON.parse('{"id":"semgrep-appsec-platform/bitbucket-data-center-pr-comments","title":"Bitbucket Data Center","description":"Enable PR comments in your Bitbucket Data Center repositories to display Semgrep findings to developers.","source":"@site/docs/semgrep-appsec-platform/bitbucket-data-center-pr-comments.md","sourceDirName":"semgrep-appsec-platform","slug":"/semgrep-appsec-platform/bitbucket-data-center-pr-comments","permalink":"/semgrep-docs/semgrep-appsec-platform/bitbucket-data-center-pr-comments","draft":false,"unlisted":false,"editUrl":"https://github.com/semgrep/semgrep-docs/edit/main/docs/semgrep-appsec-platform/bitbucket-data-center-pr-comments.md","tags":[{"inline":true,"label":"Deployment","permalink":"/semgrep-docs/tags/deployment"},{"inline":true,"label":"Semgrep AppSec Platform","permalink":"/semgrep-docs/tags/semgrep-app-sec-platform"}],"version":"current","lastUpdatedAt":1750191862000,"frontMatter":{"slug":"bitbucket-data-center-pr-comments","append_help_link":true,"title":"Bitbucket Data Center","hide_title":true,"description":"Enable PR comments in your Bitbucket Data Center repositories to display Semgrep findings to developers.","tags":["Deployment","Semgrep AppSec Platform"]},"sidebar":"scanSidebar","previous":{"title":"Bitbucket Cloud","permalink":"/semgrep-docs/semgrep-appsec-platform/bitbucket-cloud-pr-comments"},"next":{"title":"Beyond core deployment","permalink":"/semgrep-docs/deployment/beyond-core-deployment"}}');var r=s(74848),o=s(28453),i=s(87624),c=(s(65537),s(79329),s(81508)),l=s(47136),a=s(32612),d=s(28934),u=(s(25311),s(72252)),m=s(40462),h=s(19651),p=s(28684);const g={slug:"bitbucket-data-center-pr-comments",append_help_link:!0,title:"Bitbucket Data Center",hide_title:!0,description:"Enable PR comments in your Bitbucket Data Center repositories to display Semgrep findings to developers.",tags:["Deployment","Semgrep AppSec Platform"]},f="Enable Bitbucket Data Center pull request comments",x={},j=[...l.RM,{value:"Conditions for PR comment creation",id:"conditions-for-pr-comment-creation",level:2},...d.RM,{value:"Enable PR comments in Bitbucket",id:"enable-pr-comments-in-bitbucket",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Confirm your Semgrep account&#39;s connection",id:"confirm-your-semgrep-accounts-connection",level:3},{value:"Configure comments for Semgrep Code",id:"configure-comments-for-semgrep-code",level:3},...u.RM,{value:"Configure comments for Semgrep Secrets",id:"configure-comments-for-semgrep-secrets",level:3},...m.RM,{value:"Configure comments for Semgrep Supply Chain",id:"configure-comments-for-semgrep-supply-chain",level:3},...p.RM,{value:"Disable PR comments for Supply Chain findings",id:"disable-pr-comments-for-supply-chain-findings",level:2},...h.RM,{value:"Customize PR comments",id:"customize-pr-comments",level:2},...i.RM,{value:"Next steps",id:"next-steps",level:2},...a.RM,{value:"Additional references",id:"additional-references",level:2},...c.RM];function y(e){const n={a:"a",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"enable-bitbucket-data-center-pull-request-comments",children:"Enable Bitbucket Data Center pull request comments"})}),"\n",(0,r.jsx)(l.Ay,{}),"\n",(0,r.jsxs)(n.p,{children:["Semgrep can create ",(0,r.jsx)(n.strong,{children:"pull request (PR) comments"})," in your Bitbucket repository. These comments provide a description of the issue detected by Semgrep and may offer possible solutions. They are a means for security teams, or any team responsible for creating standards to help their fellow developers write safe and standards-compliant code."]}),"\n",(0,r.jsx)(n.p,{children:"Automated comments on Bitbucket pull requests are displayed as follows:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{alt:"Semgrep Bitbucket PR comment",src:s(58251).A+"#md-width",width:"1900",height:"813"}),"\n",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Figure."})})," Bitbucket Data Center pull request comments."]}),"\n",(0,r.jsx)(n.h2,{id:"conditions-for-pr-comment-creation",children:"Conditions for PR comment creation"}),"\n",(0,r.jsx)(n.p,{children:"PR comments appear for the following types of scans under these conditions:"}),"\n",(0,r.jsx)(d.Ay,{}),"\n",(0,r.jsx)(n.h2,{id:"enable-pr-comments-in-bitbucket",children:"Enable PR comments in Bitbucket"}),"\n",(0,r.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(n.p,{children:["In addition to finishing the previous steps in your deployment journey, it is recommended that you complete a ",(0,r.jsx)(n.strong,{children:"full scan"})," on your ",(0,r.jsx)(n.strong,{children:"default branch"})," for the repository in which you want to receive comments."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["You must have a Bitbucket Data Center HTTP access token. Ensure that the ",(0,r.jsx)(n.a,{href:"https://confluence.atlassian.com/bitbucketserver/http-access-tokens-939515499.html",children:"token HTTP access token that you create"})," has been granted ",(0,r.jsx)(n.strong,{children:"Project write"})," permissions. You'll provide this token to your CI provider during the setup process."]}),"\n",(0,r.jsxs)(n.li,{children:["Semgrep has been tested with Bitbucket Data Center v8.19. If you are using a different version of BBDC and there are issues, please contact ",(0,r.jsxs)(n.a,{href:"mailto:support@semgrep.com",children:[(0,r.jsx)("i",{class:"fa-regular fa-envelope"})," support@semgrep.com"]}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"confirm-your-semgrep-accounts-connection",children:"Confirm your Semgrep account's connection"}),"\n",(0,r.jsx)(n.p,{children:"Confirm that you have the correct connection and access:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["In your Semgrep AppSec Platform account, click ",(0,r.jsx)(n.strong,{children:"Settings > Source code managers"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Check that an entry for your Bitbucket project exists and is correct."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"configure-comments-for-semgrep-code",children:"Configure comments for Semgrep Code"}),"\n",(0,r.jsx)(u.Ay,{name:"Bitbucket",comment_type:"PR"}),"\n",(0,r.jsx)(n.h3,{id:"configure-comments-for-semgrep-secrets",children:"Configure comments for Semgrep Secrets"}),"\n",(0,r.jsx)(m.Ay,{name:"Bitbucket",comment_type:"PR"}),"\n",(0,r.jsx)(n.h3,{id:"configure-comments-for-semgrep-supply-chain",children:"Configure comments for Semgrep Supply Chain"}),"\n",(0,r.jsx)(p.Ay,{}),"\n",(0,r.jsx)(n.h2,{id:"disable-pr-comments-for-supply-chain-findings",children:"Disable PR comments for Supply Chain findings"}),"\n",(0,r.jsx)(h.Ay,{}),"\n",(0,r.jsx)(n.h2,{id:"customize-pr-comments",children:"Customize PR comments"}),"\n",(0,r.jsx)(i.Ay,{comment_type:"PR",link_type:"Markdown and plaintext"}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,r.jsx)(a.Ay,{}),"\n",(0,r.jsx)(n.h2,{id:"additional-references",children:"Additional references"}),"\n",(0,r.jsx)(c.Ay,{})]})}function b(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(y,{...e})}):y(e)}},32612:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>o});var t=s(74848),r=s(28453);const o=[];function i(e){const n={a:"a",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"You've finished setting up a core deployment of Semgrep \ud83c\udf89."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Explore recommended tasks after deployment in ",(0,t.jsxs)(n.a,{href:"/deployment/beyond-core-deployment",children:[(0,t.jsx)("i",{class:"fa-regular fa-file-lines"})," Beyond core deployment"]}),"."]}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}},40462:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>o});var t=s(74848),r=s(28453);const o=[{value:"Set rules to Comment or Block mode",id:"set-rules-to-comment-or-block-mode",level:4},{value:"Validation state policies",id:"validation-state-policies",level:4}];function i(e){const n={admonition:"admonition",h4:"h4",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:(0,t.jsxs)(n.p,{children:["In addition to setting up the connection between Semgrep and ",e.name,", you\nmust assign rules to Comment or Block mode. This customization enables you to:"]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Manage the amount of ",e.comment_type," comments your\ndevelopers receive."]}),"\n",(0,t.jsx)(n.li,{children:"Ensure that only rules that meet your criteria, such as high severity or high confidence rules, and result in findings involving valid secrets produce comments visible to developers, reducing noise."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"set-rules-to-comment-or-block-mode",children:"Set rules to Comment or Block mode"}),"\n",(0,t.jsx)(n.p,{children:"The following instructions let you customize what findings or security issues your developers see as comments in their PRs:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["In Semgrep AppSec Platform, go to ",(0,t.jsx)(n.strong,{children:"Rules > Policies > Secrets"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Under ",(0,t.jsxs)(n.strong,{children:["Modes ",(0,t.jsx)("i",{class:"fa-solid fa-gear"})]}),", you can see if you have existing rules in either Comment or Block mode. You can also use the filters to find rules you want to set to Comment or Block."]}),"\n",(0,t.jsxs)(n.li,{children:["Click the ",(0,t.jsxs)(n.strong,{children:[(0,t.jsx)("i",{class:"fa-solid fa-square-check"})," checkbox"]})," of the rules you want to set. You can use ",(0,t.jsx)("kbd",{children:"Ctrl + Click"})," to select rules in bulk."]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Change modes"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Click either ",(0,t.jsx)(n.strong,{children:"Block"})," or ",(0,t.jsx)(n.strong,{children:"Comment"}),"."]}),"\n"]}),"\n",(0,t.jsx)("span",{children:(0,t.jsxs)(n.p,{children:["You have successfully configured ",e.comment_type," comments for Semgrep\nSecrets."]})}),"\n",(0,t.jsx)(n.h4,{id:"validation-state-policies",children:"Validation state policies"}),"\n",(0,t.jsx)(n.p,{children:"Validation state policies allow you to define how Semgrep handles the following issues:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Invalid findings"}),": the secret has been revoked, was never functional, or used for a custom or private endpoint that Semgrep can't communicate with. For example, a Semgrep rule that tests GitHub credentials may return an invalid finding if Semgrep can't communicate with an on-premise deployment."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Validation errors"}),": Semgrep was unable to reach the secrets provider to test the validity of the credential, or Semgrep received an unexpected response from the API"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"To edit the policy for invalid secrets and errors:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["In Semgrep AppSec Platform, go to ",(0,t.jsx)(n.strong,{children:"Rules > Policies > Secrets"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Validation State Policies"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Choose the mode, either Comment or Block, that you want Semgrep to set for ",(0,t.jsx)(n.strong,{children:"Invalid findings"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Choose the mode, either Comment or Block, that you want Semgrep to set for ",(0,t.jsx)(n.strong,{children:"Validation errors"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)("span",{children:(0,t.jsxs)(n.p,{children:["Rules in ",(0,t.jsx)("strong",{children:"Block mode"})," fail the CI job that runs on the"," ","\n",e.comment_type,". Depending on your workflow, this may prevent your"," ","\n",e.comment_type," from merging."]})})})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}},47136:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>o});var t=s(74848),r=s(28453);const o=[];function i(e){const n={a:"a",admonition:"admonition",li:"li",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsx)(n.admonition,{title:"Your deployment journey",type:"note",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["You have gained the necessary ",(0,t.jsx)(n.a,{href:"/deployment/checklist",children:"resource access and permissions"})," required for deployment."]}),"\n",(0,t.jsxs)(n.li,{children:["You have ",(0,t.jsx)(n.a,{href:"/deployment/create-account-and-orgs",children:"created a Semgrep account and organization"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["You have ",(0,t.jsx)(n.a,{href:"/deployment/connect-scm",children:"connected your source code manager"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Optionally, you have ",(0,t.jsx)(n.a,{href:"/deployment/sso",children:"set up SSO"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["You have successfully added a ",(0,t.jsx)(n.a,{href:"/deployment/add-semgrep-to-ci",children:"Semgrep job"})," to your CI workflow with ",(0,t.jsx)(n.a,{href:"/deployment/customize-ci-jobs/#set-up-diff-aware-scans",children:"diff-aware scanning"}),"."]}),"\n"]})})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}},58251:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/bbdc-pr-comments-1fa3d65c7ccd0b732f583ed20bde9562.png"},65537:(e,n,s)=>{s.d(n,{A:()=>S});var t=s(96540),r=s(34164),o=s(65627),i=s(56347),c=s(50372),l=s(30604),a=s(11861),d=s(78749);function u(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function m(e){const{values:n,children:s}=e;return(0,t.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:s,attributes:t,default:r}}=e;return{value:n,label:s,attributes:t,default:r}}))}(s);return function(e){const n=(0,a.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,s])}function h(e){let{value:n,tabValues:s}=e;return s.some((e=>e.value===n))}function p(e){let{queryString:n=!1,groupId:s}=e;const r=(0,i.W6)(),o=function(e){let{queryString:n=!1,groupId:s}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:n,groupId:s});return[(0,l.aZ)(o),(0,t.useCallback)((e=>{if(!o)return;const n=new URLSearchParams(r.location.search);n.set(o,e),r.replace({...r.location,search:n.toString()})}),[o,r])]}function g(e){const{defaultValue:n,queryString:s=!1,groupId:r}=e,o=m(e),[i,l]=(0,t.useState)((()=>function(e){let{defaultValue:n,tabValues:s}=e;if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${s.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const t=s.find((e=>e.default))??s[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:o}))),[a,u]=p({queryString:s,groupId:r}),[g,f]=function(e){let{groupId:n}=e;const s=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,o]=(0,d.Dv)(s);return[r,(0,t.useCallback)((e=>{s&&o.set(e)}),[s,o])]}({groupId:r}),x=(()=>{const e=a??g;return h({value:e,tabValues:o})?e:null})();(0,c.A)((()=>{x&&l(x)}),[x]);return{selectedValue:i,selectValue:(0,t.useCallback)((e=>{if(!h({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),f(e)}),[u,f,o]),tabValues:o}}var f=s(9136);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=s(74848);function y(e){let{className:n,block:s,selectedValue:t,selectValue:i,tabValues:c}=e;const l=[],{blockElementScrollPositionUntilNextRender:a}=(0,o.a_)(),d=e=>{const n=e.currentTarget,s=l.indexOf(n),r=c[s].value;r!==t&&(a(n),i(r))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const s=l.indexOf(e.currentTarget)+1;n=l[s]??l[0];break}case"ArrowLeft":{const s=l.indexOf(e.currentTarget)-1;n=l[s]??l[l.length-1];break}}n?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":s},n),children:c.map((e=>{let{value:n,label:s,attributes:o}=e;return(0,j.jsx)("li",{role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:e=>{l.push(e)},onKeyDown:u,onClick:d,...o,className:(0,r.A)("tabs__item",x.tabItem,o?.className,{"tabs__item--active":t===n}),children:s??n},n)}))})}function b(e){let{lazy:n,children:s,selectedValue:o}=e;const i=(Array.isArray(s)?s:[s]).filter(Boolean);if(n){const e=i.find((e=>e.props.value===o));return e?(0,t.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==o})))})}function v(e){const n=g(e);return(0,j.jsxs)("div",{className:(0,r.A)("tabs-container",x.tabList),children:[(0,j.jsx)(y,{...n,...e}),(0,j.jsx)(b,{...n,...e})]})}function S(e){const n=(0,f.A)();return(0,j.jsx)(v,{...e,children:u(e.children)},String(n))}},72252:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>o});var t=s(74848),r=s(28453);const o=[{value:"Set rules to Comment or Block mode",id:"set-rules-to-comment-or-block-mode",level:4}];function i(e){const n={admonition:"admonition",h4:"h4",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:(0,t.jsxs)(n.p,{children:["In addition to setting up the connection between Semgrep and ",e.name,", you\nmust assign rules to Comment or Block mode. This customization enables you to:"]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Manage the ",(0,t.jsxs)("strong",{children:["amount of ",e.comment_type," comments"]})," your\ndevelopers receive."]}),"\n",(0,t.jsx)(n.li,{children:"Ensure that only rules that meet your criteria, such as high severity or high confidence rules, produce comments visible to developers, reducing noise."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"set-rules-to-comment-or-block-mode",children:"Set rules to Comment or Block mode"}),"\n",(0,t.jsx)(n.p,{children:"The following instructions let you customize what findings or security issues your developers see as comments in their PRs:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["In your Semgrep AppSec Platform account, click ",(0,t.jsx)(n.strong,{children:"Rules > Policies"})," to enter the ",(0,t.jsx)(n.strong,{children:"Policies"})," page. Under ",(0,t.jsxs)(n.strong,{children:["Modes ",(0,t.jsx)("i",{class:"fa-solid fa-gear"})]}),", you can quickly see if you have existing rules in either Comment or Block mode."]}),"\n",(0,t.jsxs)(n.li,{children:["Optional: To configure Semgrep Secrets rules, click the ",(0,t.jsx)(n.strong,{children:"Secrets"})," tab."]}),"\n",(0,t.jsx)(n.li,{children:"Optional: Use the filters to quickly find rules to set to Comment or Block."}),"\n",(0,t.jsxs)(n.li,{children:["Click the ",(0,t.jsxs)(n.strong,{children:[(0,t.jsx)("i",{class:"fa-solid fa-square-check"})," checkbox"]})," of the rules you want to set. You can use ",(0,t.jsx)("kbd",{children:"Ctrl + Click"})," to select rules in bulk."]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Change modes"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Click either ",(0,t.jsx)(n.strong,{children:"Block"})," or ",(0,t.jsx)(n.strong,{children:"Comment"}),"."]}),"\n"]}),"\n",(0,t.jsx)("span",{children:(0,t.jsxs)(n.p,{children:["You have successfully configured ",e.comment_type," comments for Semgrep\nCode."]})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)("span",{children:(0,t.jsxs)(n.p,{children:["Rules in ",(0,t.jsx)("strong",{children:"Block mode"})," fail the CI job that runs on the"," ","\n",e.comment_type,". Depending on your workflow, this may prevent your"," ","\n",e.comment_type," from merging."]})})})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}},79329:(e,n,s)=>{s.d(n,{A:()=>i});s(96540);var t=s(34164);const r={tabItem:"tabItem_Ymn6"};var o=s(74848);function i(e){let{children:n,hidden:s,className:i}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,t.A)(r.tabItem,i),hidden:s,children:n})}},79822:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/custom-comment-example-321bc2c6e1a23f0cb8046480bbc82007.png"},81508:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>o});var t=s(74848),r=s(28453);const o=[];function i(e){const n={a:"a",li:"li",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsxs)(n.a,{href:"/kb/semgrep-appsec-platform/missing-pr-comments",children:[(0,t.jsx)("i",{class:"fa-regular fa-file-lines"})," Why am I not receiving PR or MR comments?"]})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsxs)(n.a,{href:"/kb/semgrep-appsec-platform/inline-pr-comments",children:[(0,t.jsx)("i",{class:"fa-regular fa-file-lines"})," Why did the comments on a PR or MR not appear inline?"]})}),"\n"]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}},81660:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>o});var t=s(74848),r=s(28453);const o=[{value:"Additional egress IP addresses",id:"additional-egress-ip-addresses",level:4}];function i(e){const n={a:"a",code:"code",h4:"h4",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["If you are behind a firewall, are using a virtual private network (VPN), or have network restrictions regarding access, you may need to add the following IP addresses to the ",(0,t.jsx)(n.strong,{children:"ingress"})," allowlist and ",(0,t.jsx)(n.strong,{children:"egress"})," allowlist:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Ingress IP addresses (from Semgrep to your infrastructure)\n# and egress IP addresses (from your infrastructure to Semgrep)\n35.166.231.235\n52.35.248.246\n52.34.137.110\n44.225.64.41\n"})}),"\n",(0,t.jsx)(n.h4,{id:"additional-egress-ip-addresses",children:"Additional egress IP addresses"}),"\n",(0,t.jsxs)(n.p,{children:["You must also add ",(0,t.jsx)(n.strong,{children:"CloudFront IP addresses"})," to your ",(0,t.jsx)(n.strong,{children:"egress"})," allowlist. Refer to ",(0,t.jsxs)(n.a,{href:"https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/LocationsOfEdgeServers.html",children:[(0,t.jsx)("i",{class:"fas fa-external-link fa-xs"})," Locations and IP address ranges of CloudFront edge servers"]})," for a list of IP addresses."]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}},87624:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>o});var t=s(74848),r=s(28453);const o=[];function i(e){const n={a:"a",em:"em",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["You can customize the comments Semgrep leaves on your ",e.comment_type,". Custom comments allow you to direct your teams to the resources they need to handle the vulnerabilities Semgrep identifies in their code."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{alt:"A custom comment with instructions on how to obtain more information about a finding.",src:s(79822).A+"#md-width",width:"1591",height:"887"}),"\n",(0,t.jsxs)(n.em,{children:[(0,t.jsx)(n.strong,{children:"Figure"}),". A custom comment with instructions on how to obtain more information about a finding."]})]}),"\n",(0,t.jsxs)(n.p,{children:["To provide custom ",e.comment_type," comments:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Sign in to ",(0,t.jsxs)(n.a,{href:"https://semgrep.dev/login?",children:[(0,t.jsx)("i",{class:"fas fa-external-link fa-xs"})," Semgrep AppSec Platform"]}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Navigate to ",(0,t.jsx)(n.strong,{children:"Settings > General > Global"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Go to the ",(0,t.jsx)(n.strong,{children:"Custom PR/MR comments footers"})," section.\n",(0,t.jsx)(n.img,{alt:"Custom comment configuration in Semgrep AppSec Platform",src:s(89889).A+"#md-width",width:"1900",height:"1403"}),"\n",(0,t.jsxs)(n.em,{children:[(0,t.jsx)(n.strong,{children:"Figure"}),". Custom comment configuration in Semgrep AppSec Platform."]})]}),"\n",(0,t.jsxs)(n.li,{children:["Provide a custom comment for each Semgrep product whose findings you want to generate a PR comment. Semgrep supports ",e.link_type," links in your message."]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Save changes"}),"."]}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}},89889:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/custom-comments-configuration-0d412b3a937594106e9835084964667b.png"}}]);