"use strict";(self.webpackChunkmegadocs=self.webpackChunkmegadocs||[]).push([[54550],{28453:(e,i,n)=>{n.d(i,{R:()=>r,x:()=>t});var s=n(96540);const l={},o=s.createContext(l);function r(e){const i=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function t(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(o.Provider,{value:i},e.children)}},42803:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"semgrep-supply-chain/policies","title":"Manage policies","description":"Use policies to define the conditions in which developers are notified of a finding or potentially blocked from merging their PR or MR.","source":"@site/docs/semgrep-supply-chain/policies.md","sourceDirName":"semgrep-supply-chain","slug":"/semgrep-supply-chain/policies","permalink":"/semgrep-docs/semgrep-supply-chain/policies","draft":false,"unlisted":false,"editUrl":"https://github.com/kyle-semgrep/semgrep-docs/edit/main?base=kyle-semgrep:main/docs/semgrep-supply-chain/policies.md","tags":[{"inline":true,"label":"Semgrep Supply Chain","permalink":"/semgrep-docs/tags/semgrep-supply-chain"},{"inline":true,"label":"Semgrep AppSec Platform","permalink":"/semgrep-docs/tags/semgrep-app-sec-platform"}],"version":"current","lastUpdatedAt":1752254305000,"frontMatter":{"slug":"policies","title":"Manage policies","hide_title":true,"description":"Use policies to define the conditions in which developers are notified of a finding or potentially blocked from merging their PR or MR.","tags":["Semgrep Supply Chain","Semgrep AppSec Platform"]},"sidebar":"scanSidebar","previous":{"title":"View and export findings","permalink":"/semgrep-docs/semgrep-supply-chain/view-export"},"next":{"title":"Triage and remediate","permalink":"/semgrep-docs/semgrep-supply-chain/triage-and-remediation"}}');var l=n(74848),o=n(28453);const r={slug:"policies",title:"Manage policies",hide_title:!0,description:"Use policies to define the conditions in which developers are notified of a finding or potentially blocked from merging their PR or MR.",tags:["Semgrep Supply Chain","Semgrep AppSec Platform"]},t="Manage policies",c={},a=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"View your policies",id:"view-your-policies",level:2},{value:"Create a policy",id:"create-a-policy",level:2},{value:"Common use cases for policies",id:"common-use-cases-for-policies",level:2},{value:"Recommended conditions for blocking PRs or MRs",id:"recommended-conditions-for-blocking-prs-or-mrs",level:3},{value:"Recommended conditions for leaving a comment",id:"recommended-conditions-for-leaving-a-comment",level:3},{value:"Policy scopes",id:"policy-scopes",level:2},{value:"Policy conditions",id:"policy-conditions",level:2},{value:"Other operations",id:"other-operations",level:2},{value:"Edit a policy",id:"edit-a-policy",level:3},{value:"Disable or enable a policy",id:"disable-or-enable-a-policy",level:3},{value:"Delete a policy",id:"delete-a-policy",level:3}];function d(e){const i={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.header,{children:(0,l.jsx)(i.h1,{id:"manage-policies",children:"Manage policies"})}),"\n",(0,l.jsxs)(i.p,{children:["By default, Semgrep AppSec Platform collects Supply Chain findings without notifying developers, similar to the ",(0,l.jsxs)(i.a,{href:"/semgrep-code/policies#block-a-pr-or-mr-through-rule-modes",children:[(0,l.jsx)(i.strong,{children:"Monitor"})," mode"]})," in Semgrep Code. This prevents developers from receiving notifications while you evaluate the tool."]}),"\n",(0,l.jsxs)(i.p,{children:["Once you are ready to notify developers through a ",(0,l.jsx)(i.strong,{children:"comment"}),", or potentially ",(0,l.jsx)(i.strong,{children:"block"})," them from merging a pull request or merge request (PR or MR), define a ",(0,l.jsx)(i.strong,{children:"Supply Chain policy"}),". This feature helps you manage noise and ensures that developers are only notified or potentially blocked based on the conditions you set."]}),"\n",(0,l.jsx)(i.p,{children:"This feature enables you to configure the following:"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Scope"}),": These are the projects (repositories) that are affected by the policy."]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Conditions"}),": The conditions under which ",(0,l.jsx)(i.strong,{children:"actions"})," are performed. These conditions are typically attributes of a finding such as severity or reachability."]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Actions"}),": Actions that are performed on the defined scope when conditions are met."]}),"\n"]}),"\n",(0,l.jsx)(i.p,{children:"You can create as many policies as you need."}),"\n",(0,l.jsx)(i.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,l.jsxs)(i.p,{children:["This feature requires the ",(0,l.jsx)(i.code,{children:"semgrep:latest"})," Docker image or at least version 1.101.0 of the Semgrep CLI tool."]}),"\n",(0,l.jsx)(i.h2,{id:"view-your-policies",children:"View your policies"}),"\n",(0,l.jsxs)(i.p,{children:["Only ",(0,l.jsx)(i.strong,{children:"admins"})," can view, create, edit, or delete policies."]}),"\n",(0,l.jsxs)(i.ol,{children:["\n",(0,l.jsxs)(i.li,{children:["Sign in to ",(0,l.jsxs)(i.a,{href:"https://semgrep.dev/login",children:[(0,l.jsx)("i",{class:"fas fa-external-link fa-xs"})," Semgrep AppSec Platform"]}),"."]}),"\n",(0,l.jsxs)(i.li,{children:["From the navigation menu, click ",(0,l.jsx)(i.strong,{children:"Rules"})," to expand the drop-down box, then click ",(0,l.jsx)(i.strong,{children:"Policies"}),"."]}),"\n",(0,l.jsxs)(i.li,{children:["Click ",(0,l.jsx)(i.strong,{children:"Supply Chain"}),". This takes you to the Supply Chain policies tab. Your policies are arranged as cards.\n",(0,l.jsx)(i.img,{alt:"Policies &gt; Semgrep Supply Chain",src:n(72202).A+"#md-width",width:"1243",height:"414"}),"\n",(0,l.jsxs)(i.em,{children:[(0,l.jsx)(i.strong,{children:"Figure"}),". A single card within the Semgrep Supply Chain Policies page."]})]}),"\n"]}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:["To view and edit an existing policy, click its ",(0,l.jsx)(i.strong,{children:"name"})," or ",(0,l.jsxs)(i.strong,{children:["the three-dot ellipsis (",(0,l.jsx)("i",{class:"fas fa-ellipsis-h"}),") > Edit policy"]}),"."]}),"\n",(0,l.jsxs)(i.li,{children:["View a popup of a policy's ",(0,l.jsx)(i.strong,{children:"scope"})," (affected projects or tags) or a summary of its ",(0,l.jsx)(i.strong,{children:"actions and conditions"})," by clicking on the two summary links beside the policy name."]}),"\n"]}),"\n",(0,l.jsx)(i.h2,{id:"create-a-policy",children:"Create a policy"}),"\n",(0,l.jsxs)(i.ol,{children:["\n",(0,l.jsxs)(i.li,{children:["From the Supply Chain policies tab, Click ",(0,l.jsxs)(i.strong,{children:[(0,l.jsx)("i",{class:"fa-solid fa-plus"})," Create policy"]}),"."]}),"\n",(0,l.jsxs)(i.li,{children:["Provide a ",(0,l.jsx)(i.strong,{children:"Policy name"}),"."]}),"\n",(0,l.jsxs)(i.li,{children:["Define the scope of the policy:","\n",(0,l.jsxs)(i.ol,{children:["\n",(0,l.jsxs)(i.li,{children:["Click the drop-down box to select between ",(0,l.jsx)(i.strong,{children:"All Projects"}),", ",(0,l.jsx)(i.strong,{children:"Project"}),", or ",(0,l.jsx)(i.strong,{children:"Project tag"}),". Note that you can only select either a scope based on projects or tags, but not both."]}),"\n",(0,l.jsxs)(i.li,{children:["For ",(0,l.jsx)(i.strong,{children:"Project"})," or ",(0,l.jsx)(i.strong,{children:"Project tag"})," values, a second drop-down box appears. Choose the ",(0,l.jsx)(i.strong,{children:"projects"})," or ",(0,l.jsx)(i.strong,{children:"project tags"})," to finish defining the scope."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(i.li,{children:["Define the conditions of the policy. See the ",(0,l.jsx)(i.a,{href:"#policy-conditions",children:"Policy conditions"})," section for more information. You can create more than one condition by clicking ",(0,l.jsx)(i.strong,{children:"Add condition"}),".","\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:["For each condition, you can select multiple values by clicking on the ",(0,l.jsxs)(i.strong,{children:["plus sign (",(0,l.jsx)("i",{class:"fa-solid fa-plus"}),")"]})," on the same row. The policy is applied when ",(0,l.jsx)(i.strong,{children:"any"})," of those values are met (",(0,l.jsx)(i.code,{children:"OR"}),")."]}),"\n",(0,l.jsxs)(i.li,{children:["Each additional condition is additive. The policy is applied when ",(0,l.jsx)(i.strong,{children:"all"})," conditions are met (",(0,l.jsx)(i.code,{children:"AND"}),").\n",(0,l.jsx)(i.img,{alt:"Policies &gt; Semgrep Supply Chain",src:n(93738).A+"",width:"1834",height:"494"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(i.li,{children:["Define the actions of the policy. You can choose to ",(0,l.jsx)(i.strong,{children:"Leave a comment"})," or ",(0,l.jsx)(i.strong,{children:"Block and leave a comment"}),"."]}),"\n",(0,l.jsxs)(i.li,{children:["Click ",(0,l.jsx)(i.strong,{children:"Save"}),". This brings you back to the Supply Chain policies tab."]}),"\n",(0,l.jsxs)(i.li,{children:["After creating a policy, it is ",(0,l.jsx)(i.strong,{children:"not"})," automatically enabled. Click the ",(0,l.jsxs)(i.strong,{children:[(0,l.jsx)("i",{class:"fa-solid fa-toggle-large-on"})," toggle"]})," to enable a policy. This applies the policy to future scans."]}),"\n"]}),"\n",(0,l.jsx)(i.h2,{id:"common-use-cases-for-policies",children:"Common use cases for policies"}),"\n",(0,l.jsx)(i.p,{children:"Use the following recommendations to help you create policies. These guidelines help ensure your policies align with your business and organizational needs."}),"\n",(0,l.jsx)(i.h3,{id:"recommended-conditions-for-blocking-prs-or-mrs",children:"Recommended conditions for blocking PRs or MRs"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Always reachable and reachable findings with upgradeable dependencies"}),". This provides a path to unblock the user, as Semgrep can leave a comment with the upgrade instructions."]}),"\n"]}),"\n",(0,l.jsx)(i.h3,{id:"recommended-conditions-for-leaving-a-comment",children:"Recommended conditions for leaving a comment"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Reachable findings without upgradeable dependencies"}),". This makes the developer aware of the risk."]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Reachable, yet transitive findings"}),". Depending on your organization's policies, these may need to be flagged for risk."]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Conditionally reachable findings"}),". The decision to show developers conditionally reachable findings may depend on weighing your compliance policies against showing developers more findings. Conditionally reachable findings typically require further investigation, manual triage, and ticketing."]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Critical and high EPSS probability"}),". There is a chance of these findings being exploited regardless of reachability."]}),"\n"]}),"\n",(0,l.jsx)(i.h2,{id:"policy-scopes",children:"Policy scopes"}),"\n",(0,l.jsx)(i.p,{children:"A policy's scope can consist of tags or projects, but not both. If you need to create a policy with both tags and projects, simply make another policy."}),"\n",(0,l.jsxs)(i.p,{children:["If a project or project tag that's included in a policy scope gets deleted, it is ",(0,l.jsx)(i.strong,{children:"removed from the policy scope"}),". If all projects or all project tags are deleted for a given policy, you must edit the policy for it to be applied to a valid scope."]}),"\n",(0,l.jsx)(i.h2,{id:"policy-conditions",children:"Policy conditions"}),"\n",(0,l.jsx)(i.p,{children:"The following table lists available conditions and their values:"}),"\n",(0,l.jsxs)(i.table,{children:[(0,l.jsx)(i.thead,{children:(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.th,{children:"Condition"}),(0,l.jsx)(i.th,{children:"Values"})]})}),(0,l.jsxs)(i.tbody,{children:[(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.td,{children:(0,l.jsx)(i.a,{href:"/semgrep-supply-chain/glossary#reachability",children:"Reachability"})}),(0,l.jsx)(i.td,{children:(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:"Always reachable"}),(0,l.jsx)("li",{children:"Reachable"}),(0,l.jsx)("li",{children:"Conditionally reachable"})," ",(0,l.jsx)("li",{children:"Unreachable"})," ",(0,l.jsx)("li",{children:"No reachability analysis"})," "]})})]}),(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.td,{children:"Severity"}),(0,l.jsx)(i.td,{children:(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:"Critical"}),(0,l.jsx)("li",{children:"High"}),(0,l.jsx)("li",{children:"Medium"}),(0,l.jsx)("li",{children:"Low"}),"  "]})})]}),(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.td,{children:"Upgrade availability"}),(0,l.jsx)(i.td,{children:(0,l.jsxs)("ul",{children:[" ",(0,l.jsx)("li",{children:"Upgrade available"})," ",(0,l.jsx)("li",{children:"Upgrade unavailable"})," "]})})]}),(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.td,{children:(0,l.jsx)(i.a,{href:"/semgrep-supply-chain/glossary#transitivity",children:"Transitivity"})}),(0,l.jsx)(i.td,{children:(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:"Direct"})," ",(0,l.jsx)("li",{children:"Transitive"})]})})]}),(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.td,{children:(0,l.jsx)(i.a,{href:"/semgrep-supply-chain/glossary#epss-probability",children:"EPSS probability"})}),(0,l.jsx)(i.td,{children:(0,l.jsxs)("ul",{children:[" ",(0,l.jsx)("li",{children:"High"}),(0,l.jsx)("li",{children:"Medium"}),(0,l.jsx)("li",{children:"Low"}),(0,l.jsx)("li",{children:"None"})," "]})})]}),(0,l.jsxs)(i.tr,{children:[(0,l.jsx)(i.td,{children:(0,l.jsx)(i.a,{href:"https://www.cve.org/",children:"CVE"})}),(0,l.jsxs)(i.td,{children:["Manually provide a CVE ID, formatted as ",(0,l.jsx)(i.code,{children:"CVE-YYYY-NNNN+"})," or choose from a list of values. The values listed are generated from findings identified by Semgrep Supply Chain."]})]})]})]}),"\n",(0,l.jsx)(i.h2,{id:"other-operations",children:"Other operations"}),"\n",(0,l.jsx)(i.h3,{id:"edit-a-policy",children:"Edit a policy"}),"\n",(0,l.jsxs)(i.ol,{children:["\n",(0,l.jsxs)(i.li,{children:["From the Supply Chain policies tab, click the ",(0,l.jsx)(i.strong,{children:"three-dot (...) button > Edit policy"})," for the policy you want to edit. This takes you to the specific policy page."]}),"\n",(0,l.jsx)(i.li,{children:"Make your changes."}),"\n",(0,l.jsxs)(i.li,{children:["Click ",(0,l.jsx)(i.strong,{children:"Save"}),"."]}),"\n"]}),"\n",(0,l.jsx)(i.h3,{id:"disable-or-enable-a-policy",children:"Disable or enable a policy"}),"\n",(0,l.jsx)(i.p,{children:"From the Supply Chain policies tab, click the toggle for the policy you want to edit."}),"\n",(0,l.jsx)(i.p,{children:"You can also disable or enable a policy from the policy's page:"}),"\n",(0,l.jsxs)(i.ol,{children:["\n",(0,l.jsxs)(i.li,{children:["From the Supply Chain policies tab, click the ",(0,l.jsx)(i.strong,{children:"three-dot (...) button > Edit policy"}),"."]}),"\n",(0,l.jsxs)(i.li,{children:["Turn off or on the ",(0,l.jsx)(i.strong,{children:"Enable policy"})," toggle."]}),"\n",(0,l.jsxs)(i.li,{children:["Click ",(0,l.jsx)(i.strong,{children:"Save"}),"."]}),"\n"]}),"\n",(0,l.jsx)(i.h3,{id:"delete-a-policy",children:"Delete a policy"}),"\n",(0,l.jsxs)(i.p,{children:["From the Supply Chain policies tab, click the ",(0,l.jsx)(i.strong,{children:"three dot (...) button > Delete policy"}),", then click ",(0,l.jsx)(i.strong,{children:"Remove"}),"."]}),"\n",(0,l.jsx)(i.p,{children:"Note that:"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"This does not remove comments from existing PRs or MRs with findings."}),"\n",(0,l.jsxs)(i.li,{children:["If a policy is the ",(0,l.jsx)(i.strong,{children:"sole culprit"})," for blocking a PR, deleting it ",(0,l.jsx)(i.strong,{children:"and"})," re-running a scan unblocks the PR or MR."]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,l.jsx)(i,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},72202:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/ssc-policies-card-ef4c113310275871d632f6ebc87284d5.png"},93738:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/ssc-policies-many-conditions-b0f815d2a83169a8492e059c4a8bf4b1.png"}}]);