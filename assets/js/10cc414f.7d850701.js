"use strict";(self.webpackChunkmegadocs=self.webpackChunkmegadocs||[]).push([[85257],{14345:(e,s,r)=>{r.d(s,{A:()=>o});r(96540);var n=r(34164);const i={tabItem:"tabItem_Ymn6"};var t=r(74848);function o(e){let{children:s,hidden:r,className:o}=e;return(0,t.jsx)("div",{role:"tabpanel",className:(0,n.A)(i.tabItem,o),hidden:r,children:s})}},28453:(e,s,r)=>{r.d(s,{R:()=>o,x:()=>l});var n=r(96540);const i={},t=n.createContext(i);function o(e){const s=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(t.Provider,{value:s},e.children)}},62464:(e,s,r)=>{r.d(s,{A:()=>v});var n=r(96540),i=r(34164),t=r(80052),o=r(56347),l=r(35793),a=r(99025),d=r(4430),c=r(44148);function h(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:s}=e;return!!s&&"object"==typeof s&&"value"in s}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:s,children:r}=e;return(0,n.useMemo)((()=>{const e=s??function(e){return h(e).map((e=>{let{props:{value:s,label:r,attributes:n,default:i}}=e;return{value:s,label:r,attributes:n,default:i}}))}(r);return function(e){const s=(0,d.XI)(e,((e,s)=>e.value===s.value));if(s.length>0)throw new Error(`Docusaurus error: Duplicate values "${s.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[s,r])}function p(e){let{value:s,tabValues:r}=e;return r.some((e=>e.value===s))}function m(e){let{queryString:s=!1,groupId:r}=e;const i=(0,o.W6)(),t=function(e){let{queryString:s=!1,groupId:r}=e;if("string"==typeof s)return s;if(!1===s)return null;if(!0===s&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:s,groupId:r});return[(0,a.aZ)(t),(0,n.useCallback)((e=>{if(!t)return;const s=new URLSearchParams(i.location.search);s.set(t,e),i.replace({...i.location,search:s.toString()})}),[t,i])]}function g(e){const{defaultValue:s,queryString:r=!1,groupId:i}=e,t=u(e),[o,a]=(0,n.useState)((()=>function(e){let{defaultValue:s,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(s){if(!p({value:s,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${s}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return s}const n=r.find((e=>e.default))??r[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:s,tabValues:t}))),[d,h]=m({queryString:r,groupId:i}),[g,f]=function(e){let{groupId:s}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(s),[i,t]=(0,c.Dv)(r);return[i,(0,n.useCallback)((e=>{r&&t.set(e)}),[r,t])]}({groupId:i}),x=(()=>{const e=d??g;return p({value:e,tabValues:t})?e:null})();(0,l.A)((()=>{x&&a(x)}),[x]);return{selectedValue:o,selectValue:(0,n.useCallback)((e=>{if(!p({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);a(e),h(e),f(e)}),[h,f,t]),tabValues:t}}var f=r(75251);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=r(74848);function b(e){let{className:s,block:r,selectedValue:n,selectValue:o,tabValues:l}=e;const a=[],{blockElementScrollPositionUntilNextRender:d}=(0,t.a_)(),c=e=>{const s=e.currentTarget,r=a.indexOf(s),i=l[r].value;i!==n&&(d(s),o(i))},h=e=>{let s=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const r=a.indexOf(e.currentTarget)+1;s=a[r]??a[0];break}case"ArrowLeft":{const r=a.indexOf(e.currentTarget)-1;s=a[r]??a[a.length-1];break}}s?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":r},s),children:l.map((e=>{let{value:s,label:r,attributes:t}=e;return(0,j.jsx)("li",{role:"tab",tabIndex:n===s?0:-1,"aria-selected":n===s,ref:e=>{a.push(e)},onKeyDown:h,onClick:c,...t,className:(0,i.A)("tabs__item",x.tabItem,t?.className,{"tabs__item--active":n===s}),children:r??s},s)}))})}function y(e){let{lazy:s,children:r,selectedValue:t}=e;const o=(Array.isArray(r)?r:[r]).filter(Boolean);if(s){const e=o.find((e=>e.props.value===t));return e?(0,n.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:o.map(((e,s)=>(0,n.cloneElement)(e,{key:s,hidden:e.props.value!==t})))})}function w(e){const s=g(e);return(0,j.jsxs)("div",{className:(0,i.A)("tabs-container",x.tabList),children:[(0,j.jsx)(b,{...s,...e}),(0,j.jsx)(y,{...s,...e})]})}function v(e){const s=(0,f.A)();return(0,j.jsx)(w,{...e,children:h(e.children)},String(s))}},66214:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>h,contentTitle:()=>c,default:()=>m,frontMatter:()=>d,metadata:()=>n,toc:()=>u});const n=JSON.parse('{"id":"deployment/deployment-checklist","title":"Pre-deployment checklist","description":"Use this checklist to ensure a smooth deployment of Semgrep in your organization.","source":"@site/docs/deployment/deployment-checklist.md","sourceDirName":"deployment","slug":"/deployment/checklist","permalink":"/semgrep-docs/deployment/checklist","draft":false,"unlisted":false,"editUrl":"https://github.com/kyle-semgrep/semgrep-docs/edit/main/docs/deployment/deployment-checklist.md","tags":[{"inline":true,"label":"Deployment","permalink":"/semgrep-docs/tags/deployment"},{"inline":true,"label":"Semgrep AppSec Platform","permalink":"/semgrep-docs/tags/semgrep-app-sec-platform"}],"version":"current","lastUpdatedAt":1752260268000,"frontMatter":{"slug":"checklist","append_help_link":true,"title":"Pre-deployment checklist","description":"Use this checklist to ensure a smooth deployment of Semgrep in your organization.","tags":["Deployment","Semgrep AppSec Platform"]},"sidebar":"scanSidebar","previous":{"title":"Core deployment","permalink":"/semgrep-docs/deployment/core-deployment"},"next":{"title":"Create an account","permalink":"/semgrep-docs/deployment/create-account-and-orgs"}}');var i=r(74848),t=r(28453),o=r(62464),l=r(14345),a=r(81660);const d={slug:"checklist",append_help_link:!0,title:"Pre-deployment checklist",description:"Use this checklist to ensure a smooth deployment of Semgrep in your organization.",tags:["Deployment","Semgrep AppSec Platform"]},c=void 0,h={},u=[{value:"Stakeholders and deployment team",id:"stakeholders-and-deployment-team",level:2},{value:"Scope",id:"scope",level:2},{value:"Roles",id:"roles",level:2},{value:"Required permissions and access",id:"required-permissions-and-access",level:2},{value:"SCM-specific required permissions",id:"scm-specific-required-permissions",level:3},{value:"GitHub",id:"github",level:4},{value:"GitLab",id:"gitlab",level:4},{value:"Bitbucket",id:"bitbucket",level:4},{value:"Azure DevOps",id:"azure-devops",level:4},{value:"Appendices",id:"appendices",level:2},{value:"Permissions",id:"permissions",level:3},{value:"Permissions for GitHub",id:"permissions-for-github",level:4},{value:"Permissions when signing in with GitHub",id:"permissions-when-signing-in-with-github",level:5},{value:"Permissions when adding members or repositories into Semgrep AppSec Platform",id:"permissions-when-adding-members-or-repositories-into-semgrep-appsec-platform",level:5},{value:"Permissions when adding repositories into Semgrep AppSec Platform through managed scanning or using AI features",id:"permissions-when-adding-repositories-into-semgrep-appsec-platform-through-managed-scanning-or-using-ai-features",level:5},{value:"Permissions for GitLab",id:"permissions-for-gitlab",level:4},{value:"IP addresses",id:"ip-addresses",level:3},...a.RM,{value:"Allowlists when using Semgrep Network Broker",id:"allowlists-when-using-semgrep-network-broker",level:4},{value:"Features that require inbound network connectivity",id:"features-that-require-inbound-network-connectivity",level:4},{value:"Semgrep versions",id:"semgrep-versions",level:3},{value:"Semgrep AppSec Platform session details",id:"semgrep-appsec-platform-session-details",level:3},{value:"Additional resources",id:"additional-resources",level:2}];function p(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",h5:"h5",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components},{Details:r}=s;return r||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.p,{children:"Before starting the deployment setup, use this checklist to ensure that:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["You and your organization agree on the ",(0,i.jsx)(s.strong,{children:"scope"})," of the deployment."]}),"\n",(0,i.jsxs)(s.li,{children:["You are aware of ",(0,i.jsx)(s.strong,{children:"permissions"})," that Semgrep needs to provide certain functions."]}),"\n",(0,i.jsxs)(s.li,{children:["You have ",(0,i.jsx)(s.strong,{children:"access"})," to the resources needed to carry out the deployment."]}),"\n"]}),"\n",(0,i.jsx)(s.admonition,{type:"info",children:(0,i.jsxs)(s.p,{children:["Ensure that your infrastructure meets all the ",(0,i.jsxs)(s.a,{href:"/prerequisites",children:[(0,i.jsx)("i",{class:"fa-regular fa-file-lines"})," Prerequisites"]})," to run Semgrep."]})}),"\n",(0,i.jsx)(s.h2,{id:"stakeholders-and-deployment-team",children:"Stakeholders and deployment team"}),"\n",(0,i.jsx)(s.p,{children:"For medium-to-large teams, typically with more than 10 developers, coordinating with other departments before starting the deployment is crucial to an efficient roll-out. A complete deployment ensures that your licenses are fully used."}),"\n",(0,i.jsx)(s.p,{children:"Here are some teams or departments that may be responsible for parts of your Semgrep deployment:"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Department"}),(0,i.jsx)(s.th,{children:"Tasks related to deployment"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Infrastructure"}),(0,i.jsx)(s.td,{children:"SSO, CI/CD, and source code manager (SCM) configuration."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Engineering"}),(0,i.jsx)(s.td,{children:"Repository ownership, displaying findings to developers in PRs or MRs."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"IT"}),(0,i.jsx)(s.td,{children:"Firewall or VPN configuration."})]})]})]}),"\n",(0,i.jsx)(s.h2,{id:"scope",children:"Scope"}),"\n",(0,i.jsxs)(s.p,{children:["Scope refers to the breadth of deployment integration within your organization. The more users and repositories you onboard to Semgrep, the more crucial training becomes for ",(0,i.jsx)(s.strong,{children:"security champions"})," within your organization."]}),"\n",(0,i.jsx)(s.p,{children:"Ensure that all stakeholders agree on:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Which users and departments will use Semgrep."}),"\n",(0,i.jsx)(s.li,{children:"Which repositories you will scan with Semgrep."}),"\n",(0,i.jsx)(s.li,{children:"How frequently you run Semgrep scans, such as daily or weekly, and at what time. This may affect other processes, such as PR approvals."}),"\n",(0,i.jsx)(s.li,{children:"A timeframe for deployment. You may divide this into phases."}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Deployment times"})," vary greatly depending on your processes and size."]}),"\n",(0,i.jsx)(s.admonition,{title:"On scheduling scans",type:"tip",children:(0,i.jsxs)(s.p,{children:["Monorepos may take longer to finish scanning. Semgrep provides several options to improve performance, including piecemeal scanning of the monorepo. See ",(0,i.jsxs)(s.a,{href:"/kb/semgrep-ci/scan-monorepo-in-parts",children:[(0,i.jsx)("i",{class:"fa-regular fa-file-lines"})," Scanning a monorepo in parts"]})," for more information."]})}),"\n",(0,i.jsx)(s.h2,{id:"roles",children:"Roles"}),"\n",(0,i.jsxs)(s.p,{children:["Semgrep provides three primary roles: ",(0,i.jsx)(s.strong,{children:"admin"}),", ",(0,i.jsx)(s.strong,{children:"member"}),", and ",(0,i.jsx)(s.strong,{children:"readonly"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["Deployments can also enable a fourth role, ",(0,i.jsx)(s.strong,{children:"manager"}),", through the ",(0,i.jsx)(s.a,{href:"/deployment/teams",children:"Teams"})," feature, which provides project-level role-based access control."]}),"\n",(0,i.jsxs)(s.p,{children:["For ",(0,i.jsx)(s.strong,{children:"single-user deployments"}),", you are the sole ",(0,i.jsx)(s.strong,{children:"admin"})," of your deployment."]}),"\n",(0,i.jsxs)(s.p,{children:["For ",(0,i.jsx)(s.strong,{children:"multi-user deployments"}),", determine the following:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["The administrators (",(0,i.jsx)(s.strong,{children:"admins"}),") that own the Semgrep deployment."]}),"\n",(0,i.jsxs)(s.li,{children:["For ",(0,i.jsx)(s.strong,{children:"members"}),", ensure that they have a sign-in method:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"SSO"}),"\n",(0,i.jsx)(s.li,{children:"GitHub Cloud"}),"\n",(0,i.jsx)(s.li,{children:"GitLab Cloud"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"required-permissions-and-access",children:"Required permissions and access"}),"\n",(0,i.jsx)(s.p,{children:"The following checklist breaks down permissions required by Semgrep features."}),"\n",(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Feature"}),(0,i.jsx)("th",{children:"Permission required"})]})}),(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{rowspan:"2",children:"Run Semgrep continuously in your CI workflows."}),(0,i.jsx)("td",{children:"Adding or making changes to CI jobs. This includes committing configuration files for each repository."})]}),(0,i.jsx)("tr",{children:(0,i.jsx)("td",{children:"Defining environment variables and storing secrets."})}),(0,i.jsxs)("tr",{children:[(0,i.jsxs)("td",{children:["Run Semgrep continuously ",(0,i.jsx)("strong",{children:"without"})," changing your CI workflows."]}),(0,i.jsx)("td",{children:"Read access to user-selected repositories."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Manage user authentication with SSO."}),(0,i.jsx)("td",{children:"Viewing and editing of SSO configurations."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Receive Slack notifications."}),(0,i.jsxs)("td",{children:["Being a ",(0,i.jsx)("strong",{children:"Slack workspace owner"}),"; alternatively, coordinate with the team responsible."]})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Send pull requests or merge requests to your SCM."}),(0,i.jsx)("td",{children:"Editing firewall or VPN allowlist for self-hosted repositories."})]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"scm-specific-required-permissions",children:"SCM-specific required permissions"}),"\n",(0,i.jsxs)(o.A,{defaultValue:"gh",values:[{label:"Azure DevOps",value:"az"},{label:"Bitbucket",value:"bb"},{label:"GitHub",value:"gh"},{label:"GitLab",value:"gl"}],children:[(0,i.jsxs)(l.A,{value:"gh",children:[(0,i.jsx)(s.h4,{id:"github",children:"GitHub"}),(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Feature"}),(0,i.jsx)(s.th,{children:"Permission required"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Create CI jobs for repositories in bulk and detect GitHub repositories automatically."}),(0,i.jsx)(s.td,{children:"Installing GitHub apps."})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"AI-assisted triage and recommendations."}),(0,i.jsx)(s.td,{children:"Code access."})]})]})]})]}),(0,i.jsxs)(l.A,{value:"gl",children:[(0,i.jsx)(s.h4,{id:"gitlab",children:"GitLab"}),(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Feature"}),(0,i.jsx)("th",{children:"Permission required"})]})}),(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Merge request (MR) comments."}),(0,i.jsx)("td",{children:"Create personal access tokens."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{rowspan:"2",children:"AI-assisted triage and recommendations."}),(0,i.jsx)("td",{children:"Create personal or project-level access tokens."})]}),(0,i.jsx)("tr",{children:(0,i.jsx)("td",{children:"Read access to user-selected repositories."})})]})]})]}),(0,i.jsxs)(l.A,{value:"bb",children:[(0,i.jsx)(s.h4,{id:"bitbucket",children:"Bitbucket"}),(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Feature"}),(0,i.jsx)(s.th,{children:"Permission"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Pull request (PR) comments."}),(0,i.jsxs)(s.td,{children:["Able to create ",(0,i.jsx)(s.strong,{children:"repository variables"}),"."]})]})})]})]}),(0,i.jsxs)(l.A,{value:"az",children:[(0,i.jsx)(s.h4,{id:"azure-devops",children:"Azure DevOps"}),(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Feature"}),(0,i.jsx)(s.th,{children:"Permission"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Pull request (PR) comments."}),(0,i.jsxs)(s.td,{children:["Able to create ",(0,i.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate",children:"user personal access tokens"}),"."]})]})})]})]})]}),"\n",(0,i.jsx)(s.h2,{id:"appendices",children:"Appendices"}),"\n",(0,i.jsx)(s.h3,{id:"permissions",children:"Permissions"}),"\n",(0,i.jsxs)(o.A,{defaultValue:"permissions-github",values:[{label:"Permissions for GitHub",value:"permissions-github"},{label:"Permissions for GitLab",value:"permissions-gitlab"}],children:[(0,i.jsxs)(l.A,{value:"permissions-github",children:[(0,i.jsx)(s.h4,{id:"permissions-for-github",children:"Permissions for GitHub"}),(0,i.jsx)(s.p,{children:"This section explains Semgrep AppSec Platform permissions that are requested in two different events:"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"When you first sign in through GitHub."}),"\n",(0,i.jsx)(s.li,{children:"When you first add, integrate, or onboard your repositories to Semgrep AppSec Platform."}),"\n"]}),(0,i.jsx)(s.h5,{id:"permissions-when-signing-in-with-github",children:"Permissions when signing in with GitHub"}),(0,i.jsx)(s.p,{children:"Semgrep AppSec Platform requests the following standard permissions set by GitHub when you first sign in. However, not all permissions are used by Semgrep AppSec Platform."}),(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:"Click to review how Semgrep AppSec Platform uses permissions when signing in."}),(0,i.jsxs)("dl",{children:[(0,i.jsx)("dt",{children:"Verify your GitHub identity"}),(0,i.jsx)("dd",{children:"Enables Semgrep AppSec Platform to read your GitHub profile data, such as your username."}),(0,i.jsx)("dt",{children:"Know which resources you can access"}),(0,i.jsx)("dd",{children:"Semgrep does not use or access any resources when first logging in. However, you can choose to share resources at a later point to add repositories into Semgrep AppSec Platform."}),(0,i.jsx)("dt",{children:"Act on your behalf"}),(0,i.jsxs)("dd",{children:["Enables Semgrep AppSec Platform to perform certain tasks ",(0,i.jsx)("strong",{children:"only on resources that you choose to share with Semgrep AppSec Platform"}),". Semgrep AppSec Platform never uses this permission and never performs any actions on your behalf, even after you have installed ",(0,i.jsx)("code",{children:"semgrep-app"}),". See ",(0,i.jsx)("a",{href:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/authorizing-github-apps",children:"When does a GitHub App act on your behalf?"})," in GitHub documentation."]})]})]}),(0,i.jsx)(s.h5,{id:"permissions-when-adding-members-or-repositories-into-semgrep-appsec-platform",children:"Permissions when adding members or repositories into Semgrep AppSec Platform"}),(0,i.jsxs)(s.p,{children:["The public GitHub integration app is called ",(0,i.jsx)(s.a,{href:"https://github.com/apps/semgrep-app",children:(0,i.jsx)(s.code,{children:"semgrep-app"})}),". This app is used to integrate Semgrep into user-selected GitHub repositories."]}),(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:"Click to review how Semgrep AppSec Platform uses permissions when adding members or repositories."}),(0,i.jsxs)("dl",{children:[(0,i.jsx)("dt",{children:"Reading metadata of the repositories you select"}),(0,i.jsx)("dd",{children:"Enables Semgrep AppSec Platform to list repository names on the project setup page."}),(0,i.jsx)("dt",{children:"Reading the list of organization members"}),(0,i.jsx)("dd",{children:"Enables Semgrep AppSec Platform to determine who can manage your Semgrep organization based on your GitHub organization's members list."}),(0,i.jsx)("dt",{children:"Reading and writing pull requests"}),(0,i.jsx)("dd",{children:"Enables Semgrep AppSec Platform to comment about findings on pull requests."}),(0,i.jsx)("dt",{children:"Reading and writing actions"}),(0,i.jsx)("dd",{children:"Enables Semgrep AppSec Platform to cancel stuck jobs, rerun jobs, pull logs from jobs, and perform on-demand scanning."}),(0,i.jsxs)("dt",{children:["Reading ",(0,i.jsx)("a",{href:"https://docs.github.com/en/rest/reference/checks",children:"GitHub Checks"})]}),(0,i.jsxs)("dd",{children:["Facilitates debugging of Semgrep AppSec Platform when configured out of ",(0,i.jsx)("a",{href:"https://docs.github.com/en/actions",children:"GitHub Actions"}),"."]}),(0,i.jsx)("dt",{children:"Reading and writing security events"}),(0,i.jsx)("dd",{children:"Enables integration with GitHub Advanced Security (for example, to show Semgrep results)."}),(0,i.jsx)("dt",{children:"Reading and writing secrets"}),(0,i.jsx)("dd",{children:"Enables automatically adding of the Semgrep AppSec Platform Token to your repository secrets when onboarding projects. Note: Semgrep cannot read the values of your existing or future secrets (only the names)."}),(0,i.jsx)("dt",{children:"Reading and writing 2 files"}),(0,i.jsxs)("dd",{children:["Enables Semgrep AppSec Platform to configure itself to run in CI by writing to ",(0,i.jsx)("code",{children:".github/workflows/semgrep.yml"})," and ",(0,i.jsx)("code",{children:".semgrepignore"})," files."]}),(0,i.jsx)("dt",{children:"Reading and writing workflows"}),(0,i.jsxs)("dd",{children:["Enables Semgrep AppSec Platform to configure itself to run in CI by writing to ",(0,i.jsx)("code",{children:".github/workflows/semgrep.yml"}),". GitHub allows writing to files within ",(0,i.jsx)("code",{children:".github/workflows/"}),' directory only if this permission is granted along with "Writing a single file."']}),(0,i.jsx)("dt",{children:"Reading and writing pull requests"}),(0,i.jsx)("dd",{children:"Write permissions allow Semgrep AppSec Platform to leave pull request comments about findings. Read permissions allow Semgrep AppSec Platform to automatically remove findings when the pull request that introduced them is closed without merging."})]})]}),(0,i.jsx)(s.h5,{id:"permissions-when-adding-repositories-into-semgrep-appsec-platform-through-managed-scanning-or-using-ai-features",children:"Permissions when adding repositories into Semgrep AppSec Platform through managed scanning or using AI features"}),(0,i.jsxs)(s.p,{children:["You can optionally create a private GitHub app, which follows the naming convention ",(0,i.jsxs)(s.strong,{children:["Semgrep Code - ",(0,i.jsx)("span",{className:"placeholder",children:"YOUR_ORG_NAME"})]}),". This private app is used for the following features:"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["To add repositories to Semgrep AppSec Platform without changing your existing CI workflows. To learn more, see ",(0,i.jsxs)(s.a,{href:"/deployment/managed-scanning/overview",children:[(0,i.jsx)("i",{class:"fa-regular fa-file-lines"})," Semgrep Managed Scans"]}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["To integrate AI-asssisted features into your Semgrep organization. To learn more, see ",(0,i.jsxs)(s.a,{href:"/semgrep-assistant/overview",children:[(0,i.jsx)("i",{class:"fa-regular fa-file-lines"})," Semgrep Assistant overview"]}),"."]}),"\n"]}),(0,i.jsx)(s.admonition,{type:"info",children:(0,i.jsxs)(s.p,{children:["These features require ",(0,i.jsx)(s.strong,{children:"read access"})," to your code."]})}),(0,i.jsxs)(r,{children:[(0,i.jsxs)("summary",{children:["Click to review how Semgrep AppSec Platform uses permissions when adding repositories through ",(0,i.jsx)("strong",{children:"managed scanning"}),"."]}),(0,i.jsxs)("dl",{children:[(0,i.jsx)("dt",{children:"Reading metadata of the repositories you select"}),(0,i.jsx)("dd",{children:"Lets Semgrep list their names on the project setup page."}),(0,i.jsx)("dt",{children:"Reading the list of organization members"}),(0,i.jsx)("dd",{children:"Lets Semgrep determine who can manage your Semgrep organization based on your GitHub organization's members list."}),(0,i.jsx)("dt",{children:"Writing (and reading) pull requests"}),(0,i.jsx)("dd",{children:"Lets Semgrep comment about findings on pull requests."}),(0,i.jsx)("dt",{children:"Writing (and reading) actions"}),(0,i.jsx)("dd",{children:"Allows Semgrep AppSec Platform to cancel stuck jobs, rerun jobs, pull logs from jobs, and perform on-demand scanning."}),(0,i.jsx)("dt",{children:"Reading checks"}),(0,i.jsx)("dd",{children:"Facilitates debugging of Semgrep AppSec Platform when configured out of GitHub Actions"}),(0,i.jsx)("dt",{children:"Writing (and reading) security events."}),(0,i.jsx)("dd",{children:"Enables integration with GitHub Advanced Security (for example, to show Semgrep results)"}),(0,i.jsx)("dt",{children:"Writing (and reading) secrets"}),(0,i.jsx)("dd",{children:"Enables automatic adding of the Semgrep AppSec Platform Token to your repository secrets when onboarding projects. Note: We cannot read the values of your existing or future secrets (only the names)."}),(0,i.jsx)("dt",{children:"Writing (and reading) 2 files"}),(0,i.jsx)("dd",{children:"Lets Semgrep configure itself to run in CI by writing to .github/workflows/semgrep.yml and .semgrepignore."}),(0,i.jsx)("dt",{children:"Writing (and reading) workflows"}),(0,i.jsx)("dd",{children:'Lets Semgrep configure itself to run in CI by writing to .github/workflows/semgrep.yml. GitHub allows writing to files within .github/workflows/ only if this permission is granted along with "Writing a single file."'}),(0,i.jsx)("dt",{children:"Read source code of the repositories you select"}),(0,i.jsx)("dd",{children:"Allows Semgrep Assistant to fetch source code files on-demand to construct AI prompts."})]})]})]}),(0,i.jsxs)(l.A,{value:"permissions-gitlab",children:[(0,i.jsx)(s.h4,{id:"permissions-for-gitlab",children:"Permissions for GitLab"}),(0,i.jsx)(s.p,{children:"Semgrep requires the following permissions (scopes) to enable the authentication of a session:"}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"openid"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"email"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"profile"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"API"})}),"\n"]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"ip-addresses",children:"IP addresses"}),"\n",(0,i.jsx)(a.Ay,{}),"\n",(0,i.jsx)(s.h4,{id:"allowlists-when-using-semgrep-network-broker",children:"Allowlists when using Semgrep Network Broker"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.a,{href:"/docs/semgrep-ci/network-broker",children:"Semgrep Network Broker"})," facilities secure access with Semgrep, and its use can replace the allowlisting of the IP addresses required for ingress. The Network Broker, however, only facilitates requests from Semgrep to your network and ",(0,i.jsx)(s.em,{children:"doesn't"})," assist with requests originating from your network, including those from your network to Semgrep."]}),"\n",(0,i.jsxs)(s.p,{children:["In other words, the only address you would have to allow inbound is ",(0,i.jsx)(s.code,{children:"wireguard.semgrep.dev"})," on UDP port ",(0,i.jsx)(s.code,{children:"51820"}),", but depending on how restrictive your network is, you may need to modify your allowlist to include the egress IP addresses provided in ",(0,i.jsx)(s.a,{href:"#ip-addresses",children:"IP addresses"}),"."]}),"\n",(0,i.jsx)(s.h4,{id:"features-that-require-inbound-network-connectivity",children:"Features that require inbound network connectivity"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"/docs/deployment/connect-scm#connect-to-on-premise-orgs-and-projects",children:"Source code manager connections"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"/category/pr-or-mr-comments",children:"PR and MR comments"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"/deployment/managed-scanning/overview",children:"Semgrep Managed Scans"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"/semgrep-assistant/getting-started",children:"Semgrep Assistant"})}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"semgrep-versions",children:"Semgrep versions"}),"\n",(0,i.jsx)(s.p,{children:"Many improvements to the Semgrep AppSec Platform experience only work with up-to-date Semgrep CLI versions. As such, Semgrep AppSec Platform only supports the 10 most recent minor versions of Semgrep CLI. For example, if the latest release was 1.60.0, all versions greater than 1.50.0 are supported, while earlier versions, such as 1.49.0, can be deprecated or can result in failures."}),"\n",(0,i.jsxs)(s.p,{children:["To update Semgrep, see ",(0,i.jsx)(s.a,{href:"/update",children:"Update Semgrep"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["Docker users: use ",(0,i.jsxs)(s.a,{href:"https://hub.docker.com/r/semgrep/semgrep/tags?page=1&name=latest",children:["the ",(0,i.jsx)(s.strong,{children:"latest"})," tag"]})," to ensure you are up to date."]}),"\n",(0,i.jsx)(s.h3,{id:"semgrep-appsec-platform-session-details",children:"Semgrep AppSec Platform session details"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"The time before you need to reauthenticate to Semgrep AppSec Platform is 7 days."}),"\n",(0,i.jsx)(s.li,{children:"A Semgrep AppSec Platform session token is valid for 7 days."}),"\n",(0,i.jsx)(s.li,{children:"This session timeout is not configurable."}),"\n",(0,i.jsxs)(s.li,{children:["Semgrep AppSec Platform does not use cookies; instead it uses ",(0,i.jsx)(s.code,{children:"localStorage"})," to store access tokens. The data in ",(0,i.jsx)(s.code,{children:"localStorage"})," expires every 7 days."]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"additional-resources",children:"Additional resources"}),"\n",(0,i.jsxs)(s.p,{children:["Check out ",(0,i.jsxs)(s.a,{href:"https://blog.trailofbits.com/2024/01/12/how-to-introduce-semgrep-to-your-organization/",children:[(0,i.jsx)("i",{class:"fas fa-external-link fa-xs"})," How to introduce Semgrep to your organization"]})," from Trail of Bits for tips on how to evaluate and deploy Semgrep for your org."]})]})}function m(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},81660:(e,s,r)=>{r.d(s,{Ay:()=>l,RM:()=>t});var n=r(74848),i=r(28453);const t=[{value:"Additional egress IP addresses",id:"additional-egress-ip-addresses",level:4}];function o(e){const s={a:"a",code:"code",h4:"h4",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.p,{children:["If you are behind a firewall, are using a virtual private network (VPN), or have network restrictions regarding access, you may need to add the following IP addresses to the ",(0,n.jsx)(s.strong,{children:"ingress"})," allowlist and ",(0,n.jsx)(s.strong,{children:"egress"})," allowlist:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"# Ingress IP addresses (from Semgrep to your infrastructure)\n# and egress IP addresses (from your infrastructure to Semgrep)\n35.166.231.235\n52.35.248.246\n52.34.137.110\n44.225.64.41\n"})}),"\n",(0,n.jsx)(s.h4,{id:"additional-egress-ip-addresses",children:"Additional egress IP addresses"}),"\n",(0,n.jsxs)(s.p,{children:["You must also add ",(0,n.jsx)(s.strong,{children:"CloudFront IP addresses"})," to your ",(0,n.jsx)(s.strong,{children:"egress"})," allowlist. Refer to ",(0,n.jsxs)(s.a,{href:"https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/LocationsOfEdgeServers.html",children:[(0,n.jsx)("i",{class:"fas fa-external-link fa-xs"})," Locations and IP address ranges of CloudFront edge servers"]})," for a list of IP addresses."]})]})}function l(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}}}]);