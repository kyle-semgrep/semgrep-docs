"use strict";(self.webpackChunkmegadocs=self.webpackChunkmegadocs||[]).push([[72724],{28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var i=s(96540);const t={},r=i.createContext(t);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(r.Provider,{value:n},e.children)}},37667:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>c,frontMatter:()=>o,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"kb/integrations/pagination","title":"How to paginate responses from the Semgrep API","description":"Learn how to paginate responses from the Semgrep API.","source":"@site/docs/kb/integrations/pagination.md","sourceDirName":"kb/integrations","slug":"/kb/integrations/pagination","permalink":"/semgrep-docs/kb/integrations/pagination","draft":false,"unlisted":false,"editUrl":"https://github.com/kyle-semgrep/semgrep-docs/edit/main?base=kyle-semgrep:main/docs/kb/integrations/pagination.md","tags":[{"inline":true,"label":"Deployment","permalink":"/semgrep-docs/tags/deployment"}],"version":"current","lastUpdatedAt":1752254305000,"frontMatter":{"slug":"pagination","title":"How to paginate responses from the Semgrep API","hide_title":true,"description":"Learn how to paginate responses from the Semgrep API.","tags":["Deployment"]},"sidebar":"kbSidebar","previous":{"title":"How to connect Semgrep and DefectDojo","permalink":"/semgrep-docs/kb/integrations/defect-dojo-integration"},"next":{"title":"Running Semgrep in Visual Studio Code on Windows","permalink":"/semgrep-docs/kb/integrations/semgrep-vs-code-windows"}}');var t=s(74848),r=s(28453);const o={slug:"pagination",title:"How to paginate responses from the Semgrep API",hide_title:!0,description:"Learn how to paginate responses from the Semgrep API.",tags:["Deployment"]},a="How to paginate responses from the Semgrep API",d={},p=[{value:"Offset-based pagination",id:"offset-based-pagination",level:2},{value:"Example",id:"example",level:3},{value:"Cursor-based pagination",id:"cursor-based-pagination",level:2},{value:"Example",id:"example-1",level:3},{value:"Mixed pagination",id:"mixed-pagination",level:2},{value:"Example",id:"example-2",level:3}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"how-to-paginate-responses-from-the-semgrep-api",children:"How to paginate responses from the Semgrep API"})}),"\n",(0,t.jsx)(n.p,{children:"Semgrep's API endpoints use both offset-based pagination and cursor-based pagination."}),"\n",(0,t.jsx)(n.h2,{id:"offset-based-pagination",children:"Offset-based pagination"}),"\n",(0,t.jsxs)(n.p,{children:["Offset-based pagination defines a ",(0,t.jsx)(n.strong,{children:"limit"})," to specify the number of entries fetched and ",(0,t.jsx)(n.strong,{children:"offset"})," to indicate where to start collecting data, which correspond to the ",(0,t.jsx)(n.code,{children:"page_size"})," and ",(0,t.jsx)(n.code,{children:"page"})," query parameters described in this section."]}),"\n",(0,t.jsx)(n.p,{children:"The following API endpoints support offset-based pagination:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://semgrep.dev/api/v1/docs/#tag/Project/operation/semgrep_app.saas.handlers.repository.openapi_list_recent_projects",children:"List all projects"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://semgrep.dev/api/v1/docs/#tag/Finding/operation/semgrep_app.core_exp.findings.handlers.issue.openapi_list_recent_issues",children:"List code or supply chain findings"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"For these endpoints, include the following query parameters to paginate through results:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Query parameter"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"page"})}),(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsxs)(n.td,{children:["The page of results to return. Page numbering begins at ",(0,t.jsx)(n.code,{children:"0"}),". Default: ",(0,t.jsx)(n.code,{children:"0"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"page_size"})}),(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsxs)(n.td,{children:["The maximum number of records returned per page. Default: ",(0,t.jsx)(n.code,{children:"100"}),"."]})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,t.jsx)(n.p,{children:"To request a list of Code or Supply Chain findings, specifically the second page where each page contains 100 items, make a cURL call as follows:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-console",children:"curl 'https://semgrep.dev/api/v1/deployments/YOUR_DEPLOYMENT_SLUG/findings?page=2&page_size=100' \\\n--header 'Authorization: Bearer YOUR_API_TOKEN'\n"})}),"\n",(0,t.jsx)(n.h2,{id:"cursor-based-pagination",children:"Cursor-based pagination"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.a,{href:"https://semgrep.dev/api/v1/docs/#tag/SecretsService/operation/semgrep_app.products.secrets.handlers.issue.list_issues_conexxion",children:"List Secrets"})," endpoint supports cursor-based pagination:"]}),"\n",(0,t.jsx)(n.p,{children:"For these endpoints, include the following query parameters to paginate through results."}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Query parameter"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"cursor"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"Cursor to paginate through the results. Provide the cursor value from the response to retrieve the next or previous page."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"limit"})}),(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:"Page size to paginate through the results."})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"example-1",children:"Example"}),"\n",(0,t.jsx)(n.p,{children:"To request a list of Secrets, make a cURL call as follows:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-console",children:"# modify the limit value to change the page size\ncurl 'https://semgrep.dev/api/v1/deployments/YOUR_DEPLOYMENT_ID/secrets?cursor=&limit=25' \\\n--header 'Authorization: Bearer YOUR_API_TOKEN'\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The response includes the ",(0,t.jsx)(n.code,{children:"cursor"})," attribute. Save the value returned with ",(0,t.jsx)(n.code,{children:"cursor"}),", and provide it in subsequent calls to retrieve additional pages:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-console",children:"curl 'https://semgrep.dev/api/v1/deployments/20169/secrets?cursor=Pm...3D&limit=25' \\\n--header 'Authorization: Bearer YOUR_API_TOKEN'\n"})}),"\n",(0,t.jsx)(n.p,{children:"Repeat this process for additional pages."}),"\n",(0,t.jsx)(n.h2,{id:"mixed-pagination",children:"Mixed pagination"}),"\n",(0,t.jsx)(n.p,{children:"The following API endpoints support mixed usages of page- and cursor-based pagination:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://semgrep.dev/api/v1/docs/#tag/SupplyChainService/operation/semgrep_app.products.sca.handlers.dependency.list_repositories_for_dependencies_conexxion",children:"List repositories with dependencies"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://semgrep.dev/api/v1/docs/#tag/SupplyChainService/operation/semgrep_app.products.sca.handlers.dependency.list_lockfiles_for_dependencies_conexxion",children:"List lockfiles in a given repository with dependencies"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://semgrep.dev/api/v1/docs/#tag/SupplyChainService/operation/semgrep_app.products.sca.handlers.dependency.list_dependencies_conexxion",children:"List dependencies"})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"example-2",children:"Example"}),"\n",(0,t.jsxs)(n.p,{children:["To request a list of repositories with dependencies, make a call to the following URL. Adjust ",(0,t.jsx)(n.code,{children:"page_size"})," accordingly:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-console",children:"curl 'https://semgrep.dev/api/v1/deployments/YOUR_DEPLOYMENT_ID/dependencies/repositories' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR_API_TOKEN' \\\n--data '{\n    \"page_size\": 5\n}'\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The API returns ",(0,t.jsx)(n.code,{children:"cursor"})," as part of the response:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-console",children:'{\n    ...\n    "cursor": 1097374\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Add the ",(0,t.jsx)(n.code,{children:"cursor"})," key-value pair to the JSON body of subsequent calls to obtain additional pages:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-console",children:"curl 'https://semgrep.dev/api/v1/deployments/YOUR_DEPLOYMENT_ID/dependencies/repositories' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer YOUR_API_TOKEN' \\\n--data '{\n    \"page_size\": 1,\n    \"cursor\": 1097374\n}'\n"})})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}}}]);