"use strict";(self.webpackChunkmegadocs=self.webpackChunkmegadocs||[]).push([[71052],{14345:(e,n,s)=>{s.d(n,{A:()=>a});s(96540);var r=s(34164);const t={tabItem:"tabItem_Ymn6"};var i=s(74848);function a(e){let{children:n,hidden:s,className:a}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(t.tabItem,a),hidden:s,children:n})}},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>l});var r=s(96540);const t={},i=r.createContext(t);function a(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(i.Provider,{value:n},e.children)}},62464:(e,n,s)=>{s.d(n,{A:()=>w});var r=s(96540),t=s(34164),i=s(80052),a=s(56347),l=s(35793),o=s(99025),c=s(4430),d=s(44148);function h(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:s}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:s,attributes:r,default:t}}=e;return{value:n,label:s,attributes:r,default:t}}))}(s);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,s])}function p(e){let{value:n,tabValues:s}=e;return s.some((e=>e.value===n))}function f(e){let{queryString:n=!1,groupId:s}=e;const t=(0,a.W6)(),i=function(e){let{queryString:n=!1,groupId:s}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:n,groupId:s});return[(0,o.aZ)(i),(0,r.useCallback)((e=>{if(!i)return;const n=new URLSearchParams(t.location.search);n.set(i,e),t.replace({...t.location,search:n.toString()})}),[i,t])]}function g(e){const{defaultValue:n,queryString:s=!1,groupId:t}=e,i=u(e),[a,o]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:s}=e;if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${s.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=s.find((e=>e.default))??s[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:i}))),[c,h]=f({queryString:s,groupId:t}),[g,m]=function(e){let{groupId:n}=e;const s=function(e){return e?`docusaurus.tab.${e}`:null}(n),[t,i]=(0,d.Dv)(s);return[t,(0,r.useCallback)((e=>{s&&i.set(e)}),[s,i])]}({groupId:t}),j=(()=>{const e=c??g;return p({value:e,tabValues:i})?e:null})();(0,l.A)((()=>{j&&o(j)}),[j]);return{selectedValue:a,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);o(e),h(e),m(e)}),[h,m,i]),tabValues:i}}var m=s(75251);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=s(74848);function b(e){let{className:n,block:s,selectedValue:r,selectValue:a,tabValues:l}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.a_)(),d=e=>{const n=e.currentTarget,s=o.indexOf(n),t=l[s].value;t!==r&&(c(n),a(t))},h=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const s=o.indexOf(e.currentTarget)+1;n=o[s]??o[0];break}case"ArrowLeft":{const s=o.indexOf(e.currentTarget)-1;n=o[s]??o[o.length-1];break}}n?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":s},n),children:l.map((e=>{let{value:n,label:s,attributes:i}=e;return(0,x.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>{o.push(e)},onKeyDown:h,onClick:d,...i,className:(0,t.A)("tabs__item",j.tabItem,i?.className,{"tabs__item--active":r===n}),children:s??n},n)}))})}function E(e){let{lazy:n,children:s,selectedValue:i}=e;const a=(Array.isArray(s)?s:[s]).filter(Boolean);if(n){const e=a.find((e=>e.props.value===i));return e?(0,r.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:a.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==i})))})}function k(e){const n=g(e);return(0,x.jsxs)("div",{className:(0,t.A)("tabs-container",j.tabList),children:[(0,x.jsx)(b,{...n,...e}),(0,x.jsx)(E,{...n,...e})]})}function w(e){const n=(0,m.A)();return(0,x.jsx)(k,{...e,children:h(e.children)},String(n))}},81578:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"kb/semgrep-ci/jenkins-diff-scans","title":"Full and diff-aware scans with GitHub and Jenkins","description":"Set up full and diff-aware scans in Jenkins with Multibranch pipeline projects.","source":"@site/docs/kb/semgrep-ci/jenkins-diff-scans.md","sourceDirName":"kb/semgrep-ci","slug":"/kb/semgrep-ci/jenkins-diff-scans","permalink":"/docs/kb/semgrep-ci/jenkins-diff-scans","draft":false,"unlisted":false,"editUrl":"https://github.com/kyle-semgrep/semgrep-docs/edit/main/docs/kb/semgrep-ci/jenkins-diff-scans.md","tags":[],"version":"current","lastUpdatedAt":1752252315000,"frontMatter":{"title":"Full and diff-aware scans with GitHub and Jenkins","description":"Set up full and diff-aware scans in Jenkins with Multibranch pipeline projects.","toc_max_heading_level":2},"sidebar":"kbSidebar","previous":{"title":"Why aren\'t findings populating in the GitHub Advanced Security Dashboard after running Semgrep in CI?","permalink":"/docs/kb/semgrep-ci/github-upload-findings-in-security-dashboard"},"next":{"title":"Jenkins shared library with Semgrep scans","permalink":"/docs/kb/semgrep-ci/jenkins-shared-library-with-semgrep"}}');var t=s(74848),i=s(28453),a=s(62464),l=s(14345);const o={title:"Full and diff-aware scans with GitHub and Jenkins",description:"Set up full and diff-aware scans in Jenkins with Multibranch pipeline projects.",toc_max_heading_level:2},c="Full and diff-aware scans with GitHub and Jenkins",d={},h=[{value:"Create the Jenkinsfile",id:"create-the-jenkinsfile",level:3},{value:"Set up a pipeline",id:"set-up-a-pipeline",level:3},{value:"On GitHub",id:"on-github",level:3},{value:"Create the Jenkinsfile",id:"create-the-jenkinsfile-1",level:3},{value:"Configure the Multibranch pipeline",id:"configure-the-multibranch-pipeline",level:3},{value:"On GitHub",id:"on-github-1",level:3}];function u(e){const n={admonition:"admonition",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"full-and-diff-aware-scans-with-github-and-jenkins",children:"Full and diff-aware scans with GitHub and Jenkins"})}),"\n",(0,t.jsx)(n.p,{children:"This guide shows you how to set up:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Full scans that run on the default branch"}),"\n",(0,t.jsx)(n.li,{children:"Full and diff-aware scans that run on the default branch and PR branches"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Full scans use a simple Pipeline project. Full and diff-aware scans use a Multibranch Pipeline project. Both options use GitHub as the source code manager, with a repository whose default branch is ",(0,t.jsx)(n.code,{children:"main"}),"."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"Your UI (user interface) may vary depending on your Jenkins installation. These steps use a Classic UI Jenkins interface."})}),"\n",(0,t.jsxs)(a.A,{defaultValue:"full-scans",values:[{label:"Full Semgrep scans only",value:"full-scans"},{label:"Full and diff-aware Semgrep scans",value:"full-and-diff-scans"}],children:[(0,t.jsxs)(l.A,{value:"full-scans",children:[(0,t.jsx)(n.h3,{id:"create-the-jenkinsfile",children:"Create the Jenkinsfile"}),(0,t.jsxs)(n.p,{children:["To start the process, create the initial ",(0,t.jsx)(n.code,{children:"Jenkinsfile"})," in the root of the repository where you're setting up Semgrep. This code snippet uses Jenkins declarative syntax and runs Semgrep in Docker."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pipeline {\n  agent any\n  environment {\n    // Required for a Semgrep AppSec Platform-connected scan:\n    SEMGREP_APP_TOKEN = credentials('SEMGREP_APP_TOKEN')\n  }\n  stages {\n    stage('semgrep-scan') {\n      steps {\n        sh '''docker pull semgrep/semgrep && \\\n            docker run \\\n            -e SEMGREP_APP_TOKEN=$SEMGREP_APP_TOKEN \\\n            -v \"$(pwd):$(pwd)\" --workdir $(pwd) \\\n            semgrep/semgrep semgrep ci '''\n      }\n    }\n  }\n}\n"})}),(0,t.jsxs)(n.p,{children:["This Jenkinsfile uses a ",(0,t.jsx)(n.code,{children:"SEMGREP_APP_TOKEN"})," stored in the Jenkins instance credentials store. It does not set any other variables."]}),(0,t.jsx)(n.h3,{id:"set-up-a-pipeline",children:"Set up a pipeline"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Under ",(0,t.jsx)(n.strong,{children:"General"}),", Check the box ",(0,t.jsx)(n.strong,{children:"GitHub Project"})," box and provide your project URL (in the format ",(0,t.jsx)(n.code,{children:"https://github.com/<namespace>/<project>/"}),")."]}),"\n",(0,t.jsxs)(n.li,{children:["In the ",(0,t.jsx)(n.strong,{children:"Build Triggers"})," section, select the ",(0,t.jsx)(n.strong,{children:"GitHub Hook trigger for GITScm polling"})," box."]}),"\n",(0,t.jsxs)(n.li,{children:["Under ",(0,t.jsx)(n.strong,{children:"Pipeline"}),", select ",(0,t.jsx)(n.strong,{children:"Pipeline script from SCM"})," from the dropdown."]}),"\n",(0,t.jsxs)(n.li,{children:["For ",(0,t.jsx)(n.strong,{children:"SCM"}),": Select ",(0,t.jsx)(n.strong,{children:"Git"}),". This opens up the ",(0,t.jsx)(n.strong,{children:"Repositories"})," area. Provide the URL you provided in step 3 as your ",(0,t.jsx)(n.strong,{children:"Repository URL"}),". If you need to provide the credentials to access a private repo, do so now as well."]}),"\n",(0,t.jsxs)(n.li,{children:["For ",(0,t.jsx)(n.strong,{children:"Branches to build"}),", enter ",(0,t.jsx)(n.code,{children:"refs/heads/main"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["For ",(0,t.jsx)(n.strong,{children:"Additional Behaviours"}),": click ",(0,t.jsx)(n.strong,{children:"Add"}),". From the options, select ",(0,t.jsx)(n.strong,{children:"Check out to specific local branch"}),", and enter ",(0,t.jsx)(n.code,{children:"**"})," in ",(0,t.jsx)(n.strong,{children:"Branch name"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["In ",(0,t.jsx)(n.strong,{children:"Script Path"}),", enter ",(0,t.jsx)(n.code,{children:"Jenkinsfile"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Select ",(0,t.jsx)(n.strong,{children:"Lightweight checkout"}),"."]}),"\n"]}),(0,t.jsx)(n.h3,{id:"on-github",children:"On GitHub"}),(0,t.jsx)(n.p,{children:"If your Jenkins instance is already configured to manage webhooks automatically on GitHub, these steps are not necessary."}),(0,t.jsxs)(n.p,{children:["To review the settings and view the webhook URL, go to ",(0,t.jsx)(n.strong,{children:"Manage Jenkins > Configure System > GitHub"}),". Expand the ",(0,t.jsx)("i",{class:"fa-solid fa-circle-question"})," next to ",(0,t.jsx)(n.strong,{children:"GitHub Server"})," to find the webhook URL, and review the configuration to see if hooks are managed automatically."]}),(0,t.jsx)(n.p,{children:"If they are not, follow these steps:"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Go to the repository on GitHub."}),"\n",(0,t.jsxs)(n.li,{children:["Select ",(0,t.jsxs)(n.strong,{children:[(0,t.jsx)("i",{class:"fa-solid fa-gear"})," Settings > ",(0,t.jsx)("i",{class:"fa-solid fa-webhook"})," Webhooks"]}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Add webhook"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["In ",(0,t.jsx)(n.strong,{children:"Payload URL"}),", enter your Jenkins' instance webhook URL. Generally this is in the form ",(0,t.jsx)(n.code,{children:"$JENKINS_BASE_URL/github-webhook/"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["For ",(0,t.jsx)(n.strong,{children:"Content type"}),", Select ",(0,t.jsx)(n.code,{children:"application/json"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Select ",(0,t.jsx)(n.strong,{children:"Send me everything"}),"."]}),"\n"]}),(0,t.jsxs)(n.p,{children:["With the configuration provided initially, findings in Semgrep AppSec Platform appear under the Jenkins project name, rather than under the typical GitHub name ",(0,t.jsx)(n.code,{children:"<namespace>/<project>"}),". To change the name using ",(0,t.jsx)(n.code,{children:"SEMGREP_REPO_NAME"}),", use this Jenkinsfile instead:"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pipeline {\n  agent any\n  environment {\n    // Required for a Semgrep AppSec Platform-connected scan:\n    SEMGREP_APP_TOKEN = credentials('SEMGREP_APP_TOKEN')\n    // Set typical project (repo) name\n    SEMGREP_REPO_NAME = env.GIT_URL.replaceFirst(/^https:\\/\\/github.com\\/(.*)$/, '$1')\n  }\n  stages {\n    stage('semgrep-scan') {\n      steps {\n        sh '''docker pull semgrep/semgrep && \\\n            docker run \\\n            -e SEMGREP_APP_TOKEN=$SEMGREP_APP_TOKEN \\\n            -e SEMGREP_REPO_NAME=$SEMGREP_REPO_NAME \\\n            -v \"$(pwd):$(pwd)\" --workdir $(pwd) \\\n            semgrep/semgrep semgrep ci '''\n      }\n    }\n  }\n}\n"})})]}),(0,t.jsxs)(l.A,{value:"full-and-diff-scans",children:[(0,t.jsxs)(n.p,{children:["Semgrep diff-aware scans can be set up in several different ways using Jenkins. This example sets up a Multibranch Pipeline using ",(0,t.jsx)(n.code,{children:"when"})," conditions in the Jenkinsfile. The Multibranch Pipeline provides access to useful variables for the diff-aware scan configuration. The intent of the configuration is to run full scans on the default branch and diff-aware scans on PR branches."]}),(0,t.jsx)(n.h3,{id:"create-the-jenkinsfile-1",children:"Create the Jenkinsfile"}),(0,t.jsxs)(n.p,{children:["To start the process, create the initial ",(0,t.jsx)(n.code,{children:"Jenkinsfile"})," in the root of the repository where you're setting up Semgrep. This code snippet uses Jenkins declarative syntax and runs Semgrep in Docker."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pipeline {\n  agent any\n  environment {\n    // Required for a Semgrep Cloud Platform-connected scan:\n    SEMGREP_APP_TOKEN = credentials('SEMGREP_APP_TOKEN')\n    // Set repo name to expected format\n    SEMGREP_REPO_NAME = env.GIT_URL.replaceFirst(/^https:\\/\\/github.com\\/(.*)$/, '$1')\n  }\n  stages {\n    stage('semgrep-diff-scan') {\n      when {\n        branch \"PR-*\"\n      }\n      steps {\n        sh '''git fetch --no-tags --force --progress -- $GIT_URL +refs/heads/$CHANGE_TARGET:refs/remotes/origin/$CHANGE_TARGET\n              git checkout -b $CHANGE_TARGET origin/$CHANGE_TARGET\n              git checkout $GIT_BRANCH\n           '''\n        sh '''docker pull semgrep/semgrep && \\\n            docker run \\\n            -e SEMGREP_APP_TOKEN=$SEMGREP_APP_TOKEN \\\n            -e SEMGREP_REPO_NAME=$SEMGREP_REPO_NAME \\\n            -e SEMGREP_BASELINE_REF=$(git merge-base $GIT_BRANCH $CHANGE_TARGET) \\\n            -e SEMGREP_PR_ID=\"${env.CHANGE_ID}\"\n            -v \"$(pwd):$(pwd)\" --workdir $(pwd) \\\n            semgrep/semgrep semgrep ci '''\n      }\n    }\n    stage('semgrep-scan') {\n      when {\n        branch \"main\"\n      }\n      steps {\n        sh '''docker pull semgrep/semgrep && \\\n            docker run \\\n            -e SEMGREP_APP_TOKEN=$SEMGREP_APP_TOKEN \\\n            -e SEMGREP_REPO_NAME=$SEMGREP_REPO_NAME \\\n            -v \"$(pwd):$(pwd)\" --workdir $(pwd) \\\n            semgrep/semgrep semgrep ci '''\n      }\n    }\n  }\n  post {\n    // Clean after build\n    always {\n      cleanWs()\n    }\n  }\n}\n"})}),(0,t.jsxs)(n.p,{children:["This Jenkinsfile uses a ",(0,t.jsx)(n.code,{children:"SEMGREP_APP_TOKEN"})," stored in the Jenkins instance credentials store."]}),(0,t.jsxs)(n.p,{children:["It defines two Semgrep stages: one stage runs a full scan for the main branch, while the other stage runs a diff-aware scan for PR branches. The diff-aware scan configuration uses a computed merge base, rather than setting the merge base to the default branch. This is similar to how Semgrep runs in GitHub actions. Setting the ",(0,t.jsx)(n.code,{children:"SEMGREP_REPO_NAME"})," and ",(0,t.jsx)(n.code,{children:"SEMGREP_PR_ID"})," allows Semgrep to identify the connected project and related PR."]}),(0,t.jsx)(n.p,{children:"To compute the merge base, the pipeline runs additional Git commands to ensure that the default branch is available to Git for computation. Afterward, the pipeline cleans the workspace so subsequent use of these commands for future scans is successful."}),(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Using a computed merge base is strongly recommended. If you instead set ",(0,t.jsx)(n.code,{children:"SEMGREP_BASELINE_REF"})," to ",(0,t.jsx)(n.code,{children:"main"})," or ",(0,t.jsx)(n.code,{children:"master"})," instead, you may see spurious findings in diff-aware scans if the remote branch has been updated independently of the PR branch, or the branch may not be available locally unless you perform a ",(0,t.jsx)(n.code,{children:"git fetch"})," or ",(0,t.jsx)(n.code,{children:"git checkout"})," as shown in this example."]})}),(0,t.jsx)(n.h3,{id:"configure-the-multibranch-pipeline",children:"Configure the Multibranch pipeline"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Under ",(0,t.jsx)(n.strong,{children:"Branch Sources"}),", click ",(0,t.jsx)(n.strong,{children:"Add source"})," and select ",(0,t.jsx)(n.strong,{children:"GitHub"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Select ",(0,t.jsx)(n.strong,{children:"Repository HTTPS URL"})," and provide your project URL (in the format ",(0,t.jsx)(n.code,{children:"https://github.com/<namespace>/<project>/"}),")."]}),"\n",(0,t.jsxs)(n.li,{children:["Under ",(0,t.jsx)(n.strong,{children:"Behaviors"}),", for ",(0,t.jsx)(n.strong,{children:"Discover branches"}),", select ",(0,t.jsx)(n.strong,{children:"Exclude branches that are also filed as PRs"})," as the ",(0,t.jsx)(n.strong,{children:"Strategy"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["For ",(0,t.jsx)(n.strong,{children:"Discover pull requests from origin"}),", select ",(0,t.jsx)(n.strong,{children:"The current pull request revision"})," as the ",(0,t.jsx)(n.strong,{children:"Strategy"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["For ",(0,t.jsx)(n.strong,{children:"Property strategy"}),", select ",(0,t.jsx)(n.strong,{children:"All branches get the same properties"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Under ",(0,t.jsx)(n.strong,{children:"Build Configuration"}),", for ",(0,t.jsx)(n.strong,{children:"Mode"}),", select ",(0,t.jsx)(n.strong,{children:"by Jenkinsfile"}),", and enter the script path as ",(0,t.jsx)(n.code,{children:"Jenkinsfile"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Optional: Under ",(0,t.jsx)(n.strong,{children:"Scan Multibranch Pipeline Triggers"}),", select ",(0,t.jsx)(n.strong,{children:"Periodically if not otherwise run"})," if you want to run the pipeline occasionally if it's not run for other reasons and choose the desired interval."]}),"\n",(0,t.jsxs)(n.li,{children:["Optional: under ",(0,t.jsx)(n.strong,{children:"Orphaned Item Strategy"}),", select ",(0,t.jsx)(n.strong,{children:"Discard old items"})," and select the desired time interval and/or number of items, so that you don\u2019t lose logs for deleted branches immediately."]}),"\n"]}),(0,t.jsx)(n.h3,{id:"on-github-1",children:"On GitHub"}),(0,t.jsx)(n.p,{children:"If your Jenkins instance is already configured to manage webhooks automatically on GitHub, these steps are not necessary."}),(0,t.jsxs)(n.p,{children:["To review the settings and view the webhook URL, go to ",(0,t.jsx)(n.strong,{children:"Manage Jenkins > Configure System > GitHub"}),". Expand the ",(0,t.jsx)("i",{class:"fa-solid fa-circle-question"})," next to ",(0,t.jsx)(n.strong,{children:"GitHub Server"})," to find the webhook URL, and review the configuration to see if hooks are managed automatically."]}),(0,t.jsx)(n.p,{children:"If they are not, follow these steps:"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Go to the repository on GitHub."}),"\n",(0,t.jsxs)(n.li,{children:["Select ",(0,t.jsxs)(n.strong,{children:[(0,t.jsx)("i",{class:"fa-solid fa-gear"})," Settings > ",(0,t.jsx)("i",{class:"fa-solid fa-webhook"})," Webhooks"]}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Add webhook"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["In ",(0,t.jsx)(n.strong,{children:"Payload URL"}),", enter your Jenkins' instance webhook URL. Generally this is in the form ",(0,t.jsx)(n.code,{children:"$JENKINS_BASE_URL/github-webhook/"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["For ",(0,t.jsx)(n.strong,{children:"Content type"}),", Select ",(0,t.jsx)(n.code,{children:"application/json"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Select ",(0,t.jsx)(n.strong,{children:"Send me everything"}),"."]}),"\n"]})]})]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}}}]);