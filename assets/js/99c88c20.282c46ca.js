"use strict";(self.webpackChunkmegadocs=self.webpackChunkmegadocs||[]).push([[79957],{28453:(e,s,t)=>{t.d(s,{R:()=>a,x:()=>c});var n=t(96540);const o={},r=n.createContext(o);function a(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),n.createElement(r.Provider,{value:s},e.children)}},50800:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>p,contentTitle:()=>c,default:()=>l,frontMatter:()=>a,metadata:()=>n,toc:()=>i});const n=JSON.parse('{"id":"kb/semgrep-appsec-platform/api-404-token-scope","title":"Web API error 404 and token scopes","description":"Ensure you select the correct token scopes to avoid API 404s.","source":"@site/docs/kb/semgrep-appsec-platform/api-404-token-scope.md","sourceDirName":"kb/semgrep-appsec-platform","slug":"/kb/semgrep-appsec-platform/api-404-token-scope","permalink":"/semgrep-docs/kb/semgrep-appsec-platform/api-404-token-scope","draft":false,"unlisted":false,"editUrl":"https://github.com/kyle-semgrep/semgrep-docs/edit/main/docs/kb/semgrep-appsec-platform/api-404-token-scope.md","tags":[{"inline":true,"label":"API","permalink":"/semgrep-docs/tags/api"}],"version":"current","lastUpdatedAt":1753220396000,"frontMatter":{"tags":["API"],"description":"Ensure you select the correct token scopes to avoid API 404s."},"sidebar":"kbSidebar","previous":{"title":"What does \\"Act on your behalf\\" mean?","permalink":"/semgrep-docs/kb/semgrep-appsec-platform/act-on-your-behalf"},"next":{"title":"error: externally-managed-environment","permalink":"/semgrep-docs/kb/semgrep-appsec-platform/error-externally-managed-environment"}}');var o=t(74848),r=t(28453);const a={tags:["API"],description:"Ensure you select the correct token scopes to avoid API 404s."},c="Web API error 404 and token scopes",p={},i=[{value:"Add scopes to a token",id:"add-scopes-to-a-token",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.header,{children:(0,o.jsx)(s.h1,{id:"web-api-error-404-and-token-scopes",children:"Web API error 404 and token scopes"})}),"\n",(0,o.jsxs)(s.p,{children:["If you receive a 404 error from the ",(0,o.jsx)(s.a,{href:"https://semgrep.dev/api/v1/docs/",children:"Semgrep Web API"}),", and you are sure the deployment, API endpoint, and other details are correct, you may be trying to use a token that does not have the ",(0,o.jsx)(s.strong,{children:"Web API"})," scope assigned."]}),"\n",(0,o.jsxs)(s.p,{children:["Semgrep AppSec Platform supports two primary token scopes: ",(0,o.jsx)(s.strong,{children:"Agent (CI)"})," and ",(0,o.jsx)(s.strong,{children:"Web API"}),". See ",(0,o.jsx)(s.a,{href:"/docs/deployment/teams#token-scopes",children:"Token scopes"})," for details of their permissions."]}),"\n",(0,o.jsxs)(s.p,{children:["Tokens with only the ",(0,o.jsx)(s.strong,{children:"Agent (CI)"})," scope can connect scans with the platform to request rules, send findings, and post PR/MR comments, but they cannot use the Web API. They are intended for use locally or in CI."]}),"\n",(0,o.jsx)(s.h2,{id:"add-scopes-to-a-token",children:"Add scopes to a token"}),"\n",(0,o.jsxs)(s.p,{children:["You must be an ",(0,o.jsx)(s.code,{children:"admin"})," to perform this operation. Member users cannot access tokens in the Semgrep AppSec Platform."]}),"\n",(0,o.jsxs)(s.ol,{children:["\n",(0,o.jsxs)(s.li,{children:["Log in to Semgrep AppSec Platform and navigate to ",(0,o.jsx)(s.a,{href:"https://semgrep.dev/orgs/-/settings/tokens/",children:(0,o.jsx)(s.strong,{children:"Settings > Tokens"})}),"."]}),"\n",(0,o.jsxs)(s.li,{children:["Identify the related token, and click the ",(0,o.jsx)("i",{class:"fa-regular fa-pen-to-square"})," icon to edit the token."]}),"\n",(0,o.jsxs)(s.li,{children:["Click ",(0,o.jsx)(s.strong,{children:"Web API"})," under ",(0,o.jsx)(s.strong,{children:"Token scopes"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(s.p,{children:["If the token does not appear in the ",(0,o.jsx)(s.strong,{children:"API Tokens"})," section, it is a Member-scoped CLI token whose permissions cannot be escalated. Create a new token on the Settings page instead, and make sure to check the ",(0,o.jsx)(s.strong,{children:"Web API"})," box."]})]})}function l(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);